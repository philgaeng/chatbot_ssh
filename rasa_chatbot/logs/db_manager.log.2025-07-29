2025-07-29 08:11:01,943 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,943 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,943 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,943 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,943 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,943 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,944 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,944 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,944 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,944 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,944 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,944 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,944 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,944 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,944 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,944 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,944 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,944 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,944 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,944 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,944 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,944 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,944 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,944 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,944 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,944 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,945 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:11:01,945 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 08:11:01,945 - db_manager - INFO - Database manager initialized successfully
2025-07-29 08:11:01,945 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 08:12:10,638 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-F95B-B
2025-07-29 08:12:10,639 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,646 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,647 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 08:12:10,649 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 08:12:10,649 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,649 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:10,649 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,654 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,655 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 08:12:10,656 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 08:12:10,656 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,656 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:10,656 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,661 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,661 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 08:12:10,662 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 08:12:10,662 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,662 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:10,662 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,667 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,667 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 08:12:10,668 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 08:12:10,668 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,668 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:10,669 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d040703029f7363db8c3999f87fd23d019b17848749659d81ad3f204dae958ced4697767a84e659a4ca9609cb0463dc831fd9102a06f4eeae88596b809161a3cfe42f41e22d9272f96683a267
2025-07-29 08:12:10,669 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 08:12:10,669 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-F95B-B', 'complainant_phone': 'c30d040703029f7363db8c3999f87fd23d019b17848749659d81ad3f204dae958ced4697767a84e659a4ca9609cb0463dc831fd9102a06f4eeae88596b809161a3cfe42f41e22d9272f96683a267', 'complainant_email': 'c30d040703025b00ecd6b0588c7575d23d013050c9352871b31bd2a73d0c9539cfc06ab0d74e80797e897e1dada16759bc30647b2b315d068d7ec044c41a233b56de7c09c66f911c9a28004d4bf1', 'complainant_full_name': 'c30d040703026bfb3f0534c5dec163d23d01bafd0da8140c40a5fb78435b70b466ebc29178fa1437ced952671e4529d84f34002a336b74043103c265194899ed4aff94a09cf73c8ac807d3e4f5ab', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302aab2992aabef7b1a64d23d01b5cec0f7174477f815d35c46b3cce93d55be964bd647e13ec22bc8afbc3a3f50a0c5c15155c435efb5c20fc742482a38e40f41767a404df7a8862094', 'complainant_unique_id': 'CM-20250729-KOJH-F95B-B', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 08:12:10,669 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_full_name_hash', 'complainant_email_hash', 'complainant_phone_hash'])
2025-07-29 08:12:10,669 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_full_name_hash, complainant_email_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 08:12:10,669 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 08:12:10,669 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_full_name_hash, complainant_email_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 08:12:10,669 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,673 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,675 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,675 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:10,676 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-F95B-B
2025-07-29 08:12:10,676 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-F95B-B
2025-07-29 08:12:10,676 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-7EF0-B', 'grievance_description': 'there is dust everywhere\nmy kids are coughing very hard \ni dont know what to do \nI think I need to go to hospital\nbut I dont have money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 08:12', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-F95B-B'}
2025-07-29 08:12:10,676 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-7EF0-B
2025-07-29 08:12:10,676 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 08:12:10,676 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 08:12:10,676 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 08:12:10,676 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 08:12:10,676 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,680 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,685 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,685 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:10,685 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-7EF0-B
2025-07-29 08:12:10,685 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-7EF0-B
2025-07-29 08:12:10,685 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,690 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,690 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 08:12:10,691 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 08:12:10,691 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,691 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:10,691 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:10,695 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:10,696 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 08:12:10,696 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 08:12:10,697 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:10,697 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 08:12:11,020 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 08:12:11,025 - db_manager - INFO - Starting database transaction
2025-07-29 08:12:11,026 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 08:12:11,027 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 08:12:11,027 - db_manager - INFO - Transaction committed successfully
2025-07-29 08:12:11,027 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:08:02,238 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,238 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,239 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,239 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,239 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,239 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,239 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,239 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,239 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,239 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,239 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,239 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,239 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,239 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,239 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,239 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,239 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,240 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,240 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,240 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,240 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,240 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,240 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,240 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,240 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,240 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,240 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:08:02,240 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:08:02,240 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:08:02,240 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,950 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,950 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,950 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,950 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,950 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,950 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,950 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,950 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,950 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,950 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,950 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,950 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,951 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,951 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,951 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,951 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,951 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,951 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,951 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,951 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,951 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,951 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,951 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,951 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,951 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,951 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,951 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:10:54,951 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:10:54,951 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:10:54,952 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:13:23,942 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-BAB4-B
2025-07-29 09:13:23,942 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:23,949 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:23,949 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:13:23,954 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:13:23,954 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:23,954 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:23,954 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:23,959 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:23,959 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:13:23,960 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:13:23,961 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:23,961 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:23,961 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:23,966 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:23,966 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:13:23,967 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:13:23,967 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:23,967 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:23,967 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:23,972 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:23,972 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:13:23,973 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:13:23,973 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:23,973 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:23,974 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d040703028e68d4b59760407e6ed23d0189b9b69c35800cc7f442b4868de2b017861285a15548259c21ee72b8a197d21bf3cb22db49825b293e6361be5c9125dd7c2d8f79d19ccd6386f1e22b
2025-07-29 09:13:23,974 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 09:13:23,974 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-BAB4-B', 'complainant_phone': 'c30d040703028e68d4b59760407e6ed23d0189b9b69c35800cc7f442b4868de2b017861285a15548259c21ee72b8a197d21bf3cb22db49825b293e6361be5c9125dd7c2d8f79d19ccd6386f1e22b', 'complainant_email': 'c30d040703020a2cb01a48522f8970d23d014612aaf46851703960608dd4f90bb9469426905f6475dcba6882b641391aceb1725b8502e7e7f9b43c911eb55a2f682581dd38b95880622bf090df61', 'complainant_full_name': 'c30d04070302f4073293b93a25c961d23d0188c122ebf2dd4e3ffacd115a8edbfec2c209dceaf14f76f8bd02c5ed02a10bdf5e702296b92bbc9a7c4a4ad80295a1998dc80d23b2623517bdf4e9b6', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Birtamod Municipality', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d0407030268df2667c4757c9665d23d010fdf365e318460aacda781403858b6130a49ba9efcc8bd725a1c6d261ecbf4943cb681cc07b0664f40d332cd8a8c77a1657e28b52f433c95e88f98db', 'complainant_unique_id': 'CM-20250729-KOJH-BAB4-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 09:13:23,974 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_full_name_hash', 'complainant_phone_hash'])
2025-07-29 09:13:23,974 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 09:13:23,974 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 09:13:23,974 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 09:13:23,974 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:23,979 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:23,981 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:23,982 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:23,982 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-BAB4-B
2025-07-29 09:13:23,982 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-BAB4-B
2025-07-29 09:13:23,982 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-7AB1-B', 'grievance_description': 'there is dust everywhere in my house\nmy children are coughing\nI dont know what to do\nMaybe I need to go to the hospital but I dint have any money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 09:13', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-BAB4-B'}
2025-07-29 09:13:23,982 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-7AB1-B
2025-07-29 09:13:23,982 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 09:13:23,982 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 09:13:23,982 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 09:13:23,982 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 09:13:23,982 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:23,987 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:23,992 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:23,992 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:23,992 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-7AB1-B
2025-07-29 09:13:23,992 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-7AB1-B
2025-07-29 09:13:23,992 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:23,997 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:23,997 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 09:13:23,999 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 09:13:23,999 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:23,999 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:23,999 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:24,004 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:24,004 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 09:13:24,005 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 09:13:24,006 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:24,006 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:13:24,510 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:13:24,519 - db_manager - INFO - Starting database transaction
2025-07-29 09:13:24,520 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 09:13:24,521 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 09:13:24,522 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:13:24,522 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:43:50,243 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,243 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,243 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,243 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,244 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:43:50,244 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 09:43:50,244 - db_manager - INFO - Database manager initialized successfully
2025-07-29 09:43:50,245 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 09:52:30,628 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-F8E1-B
2025-07-29 09:52:30,630 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,637 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,637 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:52:30,640 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:52:30,640 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,641 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:30,641 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,646 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,646 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:52:30,647 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:52:30,647 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,647 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:30,647 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,653 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,653 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:52:30,654 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:52:30,654 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,654 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:30,654 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,659 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,659 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 09:52:30,660 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 09:52:30,660 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,661 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:30,661 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302c5e014c758c2c3af69d23d01fbe33de8cd79d4de436ae6622a2c51c8802b67556449c9208db14a2bcc299860724efeff4a8cf609a79258b4b8d11f82c026e756af994f42f7ea9227
2025-07-29 09:52:30,661 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 09:52:30,661 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-F8E1-B', 'complainant_phone': 'c30d04070302c5e014c758c2c3af69d23d01fbe33de8cd79d4de436ae6622a2c51c8802b67556449c9208db14a2bcc299860724efeff4a8cf609a79258b4b8d11f82c026e756af994f42f7ea9227', 'complainant_email': 'c30d04070302813c4d3ac4f0848061d23d0151442b12b0fd1ee7871db1a8b20b9a1bb782144c2d4c7f6d6627621e956c21949f614f66b080cfd2bf665daf031c64be551ffa69d82b54e9ac37de42', 'complainant_full_name': 'c30d040703021e5aa228230e68837fd23d01dab1cb08d30e61aabea39674b1f484bc941409bc80415245ca84a5972c7e814151eedf6c2bde4524d0ac2e55b79c8342b44cb6023381621ad59dfbd4', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302b0cd554e57c0acb174d23d01906ec8c972c7ef54aeac8fb671e6b975cf53641c8e8a0d30e7861d4c23545aacb29c5eba2babdba8304e1216cc40e7b8204266f48d24dd293bb79d3e', 'complainant_unique_id': 'CM-20250729-KOJH-F8E1-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 09:52:30,661 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_full_name_hash', 'complainant_phone_hash'])
2025-07-29 09:52:30,661 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 09:52:30,661 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 09:52:30,661 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 09:52:30,661 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,666 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,669 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,669 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:30,670 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-F8E1-B
2025-07-29 09:52:30,670 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-F8E1-B
2025-07-29 09:52:30,670 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-6D15-B', 'grievance_description': 'there is dust everyhre\nmy baby has bad cough\ni need to go to hsopital but no money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 09:52', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-F8E1-B'}
2025-07-29 09:52:30,670 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-6D15-B
2025-07-29 09:52:30,670 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 09:52:30,670 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 09:52:30,670 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 09:52:30,670 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 09:52:30,670 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,676 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,682 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,682 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:30,682 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-6D15-B
2025-07-29 09:52:30,683 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-6D15-B
2025-07-29 09:52:30,683 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,688 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,688 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 09:52:30,689 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 09:52:30,690 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,690 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:30,690 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:30,696 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:30,696 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 09:52:30,697 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 09:52:30,697 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:30,697 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 09:52:31,197 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 09:52:31,205 - db_manager - INFO - Starting database transaction
2025-07-29 09:52:31,205 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 09:52:31,206 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 09:52:31,206 - db_manager - INFO - Transaction committed successfully
2025-07-29 09:52:31,207 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,138 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-4F9E-B
2025-07-29 10:03:30,139 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,145 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,145 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:03:30,148 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:03:30,148 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,148 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,148 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,154 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,154 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:03:30,155 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:03:30,156 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,156 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,156 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,161 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,161 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:03:30,162 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:03:30,163 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,163 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,163 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,169 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,169 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:03:30,170 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:03:30,170 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,170 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,171 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302a1e305fd4282e0e07ed23d01d7c01b8a0bb11aeb3fcbc90c3bbd2dc94c40def73daaf5179ade49e030474473d47ca1e7688465ccd9c4d5c3c5a37d7ccbf4c238ccce13b15e63d497
2025-07-29 10:03:30,171 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 10:03:30,171 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-4F9E-B', 'complainant_phone': 'c30d04070302a1e305fd4282e0e07ed23d01d7c01b8a0bb11aeb3fcbc90c3bbd2dc94c40def73daaf5179ade49e030474473d47ca1e7688465ccd9c4d5c3c5a37d7ccbf4c238ccce13b15e63d497', 'complainant_email': 'c30d04070302346eb6e29224bebf68d23d01336356e20b22cc6df395057168152dd696df9e63b56e90901064838d4dd37f0a7ce20305832aa5e9882b9cc04df0131dfffb704d92eafe9919681170', 'complainant_full_name': 'c30d0407030299064b16e02692d476d23d01abcca9a22c4e2229babfcf5b8d01bb37a39da3b70067448a5c9dd32462787fb8b46fba5e86c2524009b9adc830cf991d5879789dc528c02a62daa6b1', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d040703024e63e43fcb26f0f068d23d01aca05a1555ad8e2cd51b6915788a05168e2fee29cf46abb7e7d7398393201add3cb6d77f48265b1385518a7313ac9269e194d4a964d2aa90392a2ad2', 'complainant_unique_id': 'CM-20250729-KOJH-4F9E-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 10:03:30,171 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_full_name_hash', 'complainant_phone_hash'])
2025-07-29 10:03:30,171 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:03:30,171 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 10:03:30,171 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:03:30,171 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,175 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,178 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,178 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,178 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-4F9E-B
2025-07-29 10:03:30,178 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-4F9E-B
2025-07-29 10:03:30,178 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-3D67-B', 'grievance_description': 'there is dust everywhere in my house\nthe chioldren are coughing\nim scared for my baby girl\nI need to go to hospital but I have no money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 10:03', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-4F9E-B'}
2025-07-29 10:03:30,178 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-3D67-B
2025-07-29 10:03:30,178 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 10:03:30,178 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:03:30,178 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 10:03:30,178 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:03:30,178 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,184 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,188 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,188 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,189 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-3D67-B
2025-07-29 10:03:30,189 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-3D67-B
2025-07-29 10:03:30,189 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,195 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,195 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:03:30,196 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:03:30,197 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,197 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,197 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,203 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,203 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:03:30,204 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:03:30,204 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,204 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:03:30,539 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:03:30,545 - db_manager - INFO - Starting database transaction
2025-07-29 10:03:30,545 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:03:30,546 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:03:30,546 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:03:30,547 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,420 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-E469-B
2025-07-29 10:13:25,420 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,426 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,427 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:13:25,428 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:13:25,428 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,428 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,428 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,434 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,434 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:13:25,435 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:13:25,435 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,435 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,435 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,441 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,442 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:13:25,443 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:13:25,443 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,443 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,443 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,449 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,450 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:13:25,451 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:13:25,451 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,451 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,451 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302d73a5032b680327b6bd23d01ffdffed6e4847ec0dbf8c65a9a6f346fe5c995a11061f228cf9d879dc431bb56435dcc4e355cd53a8c4a03209bf6e19dc05f3f7d68502dbaa115ad23
2025-07-29 10:13:25,452 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 10:13:25,452 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-E469-B', 'complainant_phone': 'c30d04070302d73a5032b680327b6bd23d01ffdffed6e4847ec0dbf8c65a9a6f346fe5c995a11061f228cf9d879dc431bb56435dcc4e355cd53a8c4a03209bf6e19dc05f3f7d68502dbaa115ad23', 'complainant_email': 'c30d04070302c6638e65b9bd6eef72d23d013b9a964b4ddad7d0ceba106c6545358a0b24a11e1e0944b99ec84ebecb263c519c5a0cc27e96eed4d29e012a1fbbf90d83b384e6070c60ca46967cbf', 'complainant_full_name': 'c30d040703023dbcdc85f47ede926ed23d01a32c91a6cdd423b175c53a543f367ae59f990139b4391e6b2103b4d731f9dfbb1b6397fe323db3fefeb65451ad138e95a1ffd111e95b89aa9692fbab', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302688390c97dcf78b17ad23d01526061542507f5d11a11fc00bd7c371d487330f6d95cf740bfd91370b49d6f8efd9579ae4bb6179e865a6b5210d31c3b81b956bd9481727d6a708615', 'complainant_unique_id': 'CM-20250729-KOJH-E469-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 10:13:25,452 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_full_name_hash', 'complainant_phone_hash'])
2025-07-29 10:13:25,452 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:13:25,452 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 10:13:25,452 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:13:25,452 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,457 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,461 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,461 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,461 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-E469-B
2025-07-29 10:13:25,461 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-E469-B
2025-07-29 10:13:25,461 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-750B-B', 'grievance_description': 'tehre is dust everywhere in my house and lot of noise\ni dont know what to do really', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 10:13', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-E469-B'}
2025-07-29 10:13:25,461 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-750B-B
2025-07-29 10:13:25,461 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 10:13:25,461 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:13:25,462 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 10:13:25,462 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:13:25,462 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,467 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,470 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,471 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,471 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-750B-B
2025-07-29 10:13:25,471 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-750B-B
2025-07-29 10:13:25,471 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,476 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,476 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:13:25,477 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:13:25,477 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,477 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:25,478 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:25,483 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:25,483 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:13:25,484 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:13:25,484 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:25,484 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:13:26,059 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:13:26,064 - db_manager - INFO - Starting database transaction
2025-07-29 10:13:26,064 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:13:26,066 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:13:26,066 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:13:26,066 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,027 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-E41C-B
2025-07-29 10:15:41,027 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,033 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,033 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:15:41,034 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:15:41,034 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,034 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,034 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,039 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,039 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:15:41,040 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:15:41,041 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,041 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,041 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,046 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,047 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:15:41,048 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:15:41,048 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,048 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,048 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,053 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,053 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:15:41,054 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:15:41,054 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,054 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,054 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d040703025ed6e4948435ecf174d23d01d0c9381f25054f2ae22d090e006dea720ac7a0a591ac118e0da343957a50b34e751f4222c134d47080d523da0b6c15a9b1d20265fa76c946a7bca953
2025-07-29 10:15:41,055 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 10:15:41,055 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-E41C-B', 'complainant_phone': 'c30d040703025ed6e4948435ecf174d23d01d0c9381f25054f2ae22d090e006dea720ac7a0a591ac118e0da343957a50b34e751f4222c134d47080d523da0b6c15a9b1d20265fa76c946a7bca953', 'complainant_email': 'c30d040703027d539561279678e061d23d0122d3fc837f472f648d3d130aed5e468585336536ffe24071bb764b805126269c43b7d4b631b0c44130501710ff5fce8506eeac6f7ed8cbd310acb380', 'complainant_full_name': 'c30d04070302590d7a93a71fcf7d71d23d018132930832d579df0c7004fa53c5c3bdd233f2b31c0ce24f138481c1456ded897eaee6dab93af7f8965ab54c210f98e1ebc0c08d858726cbec021e9c', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302bfe753773903f09c6dd23d01832558a3fe336b8955f368485118286a628beba946bb0ad4d3a9669f7550cad7f1c6f9c2813b4a65afd199609787895e0dfcedb1054a6fce75468691', 'complainant_unique_id': 'CM-20250729-KOJH-E41C-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 10:15:41,055 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_full_name_hash', 'complainant_phone_hash'])
2025-07-29 10:15:41,055 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:15:41,055 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 10:15:41,055 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_full_name_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:15:41,055 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,060 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,062 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,063 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,063 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-E41C-B
2025-07-29 10:15:41,063 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-E41C-B
2025-07-29 10:15:41,063 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-BFB3-B', 'grievance_description': 'there is dust everywhere\nand noise\ni dont know what to do', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 10:15', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-E41C-B'}
2025-07-29 10:15:41,063 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-BFB3-B
2025-07-29 10:15:41,063 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 10:15:41,063 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:15:41,063 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 10:15:41,063 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:15:41,063 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,068 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,071 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,072 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,072 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-BFB3-B
2025-07-29 10:15:41,072 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-BFB3-B
2025-07-29 10:15:41,072 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,077 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,077 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:15:41,078 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:15:41,078 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,078 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,079 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,083 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,084 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:15:41,085 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:15:41,085 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,085 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:15:41,514 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:15:41,521 - db_manager - INFO - Starting database transaction
2025-07-29 10:15:41,521 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:15:41,522 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:15:41,523 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:15:41,523 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:22:01,953 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,954 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,954 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,954 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,954 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,954 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,954 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,954 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,954 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,954 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,954 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,954 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,954 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,954 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,955 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,955 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,955 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,955 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,955 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,955 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,955 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,955 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,955 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,955 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,955 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,955 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,955 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:22:01,955 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:22:01,955 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:22:01,955 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:24:50,762 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-95CB-B
2025-07-29 10:24:50,763 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,769 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,769 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:24:50,772 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:24:50,773 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,773 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:50,773 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302b8157cc769e77af778d23d0188a2c6324875cc62aca33376d4ded1af7c8b3f0429122c0a50d84851ee96f72ca6b72c55d8464d1b8ef9c2d0a81c5169ad24d55687fdebd174f353df
2025-07-29 10:24:50,773 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,779 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,779 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:24:50,780 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:24:50,780 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,781 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:50,781 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,786 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,786 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:24:50,787 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:24:50,787 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,788 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:50,788 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,793 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,793 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 10:24:50,794 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 10:24:50,794 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,794 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:50,795 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 10:24:50,795 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-95CB-B', 'complainant_phone': 'c30d04070302b8157cc769e77af778d23d0188a2c6324875cc62aca33376d4ded1af7c8b3f0429122c0a50d84851ee96f72ca6b72c55d8464d1b8ef9c2d0a81c5169ad24d55687fdebd174f353df', 'complainant_email': 'c30d04070302841899c0b614fd256cd23d01cadc8bac80ad9abdc292a0a81b905d09a8599dc6d32eba84a84934732909e1674e9dcd436c841b0178be5ba89b8d2fb9db8f8135cab36b54c31f2c9d', 'complainant_full_name': 'c30d04070302d69c9ad93c2cac7d7bd23d01762cb5180680c5e6e7a10e70b0753d9e001eb2c0da8bff60b84f397bdd7d53a8cf98b8a6bad40a666975b159f3a6a4d00e3aa5a26fe02a9647385b7e', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d040703026c9999531faafa0179d23d0114edbbd041f4540f125311b6181edf2021c6d04a47cbfa8e117508d1634cddddf8cddbd468aa2cf5cf3895a95735b1d9c4ea03982de955dddb92e80d', 'complainant_unique_id': 'CM-20250729-KOJH-95CB-B', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 10:24:50,795 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_phone_hash', 'complainant_email_hash', 'complainant_full_name_hash'])
2025-07-29 10:24:50,795 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:24:50,795 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 10:24:50,795 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 10:24:50,795 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,800 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,802 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,803 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:50,803 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-95CB-B
2025-07-29 10:24:50,803 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-95CB-B
2025-07-29 10:24:50,803 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-EBDD-B', 'grievance_description': 'there is dust everywhere in my house it is terrible my children arec oughing i am worried I like to see a doctor but i have no money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 10:24', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-95CB-B'}
2025-07-29 10:24:50,803 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-EBDD-B
2025-07-29 10:24:50,803 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 10:24:50,803 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:24:50,803 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 10:24:50,803 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 10:24:50,803 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,808 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,813 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,813 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:50,813 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-EBDD-B
2025-07-29 10:24:50,813 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-EBDD-B
2025-07-29 10:24:50,814 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,819 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,819 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:24:50,820 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:24:50,821 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,821 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:50,821 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:50,826 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:50,826 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:24:50,828 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:24:50,828 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:50,828 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:24:51,121 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 10:24:51,131 - db_manager - INFO - Starting database transaction
2025-07-29 10:24:51,131 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 10:24:51,132 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 10:24:51,132 - db_manager - INFO - Transaction committed successfully
2025-07-29 10:24:51,133 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 10:40:53,133 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,134 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,134 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:40:53,134 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:40:53,135 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:40:53,135 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,876 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,877 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,877 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,877 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,877 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,877 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,877 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,877 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,877 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,877 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,877 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,877 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,877 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,877 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,877 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,877 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,877 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,877 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,878 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,878 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,878 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,878 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,878 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,878 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,878 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,878 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,878 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 10:58:26,878 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 10:58:26,878 - db_manager - INFO - Database manager initialized successfully
2025-07-29 10:58:26,878 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,659 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,659 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,659 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,659 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,659 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,659 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:09:10,660 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:09:10,660 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:09:10,660 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,033 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,034 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,034 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,034 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,034 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,034 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,034 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,034 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,034 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,034 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,034 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,034 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,034 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,034 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,034 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,034 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,034 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,034 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,034 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,034 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,034 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,035 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,035 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,035 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,035 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,035 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,035 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:14:19,035 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:14:19,035 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:14:19,035 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,209 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,209 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,209 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,209 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,209 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,209 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,209 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,209 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,209 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,209 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,210 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,210 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,210 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,210 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,210 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,210 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,210 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,210 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,210 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,210 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,210 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,210 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,210 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,210 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,210 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,210 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,210 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 11:16:19,210 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 11:16:19,211 - db_manager - INFO - Database manager initialized successfully
2025-07-29 11:16:19,211 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,386 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,386 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,386 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,387 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,387 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,387 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,387 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,387 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,387 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,387 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,387 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,387 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,387 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,387 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,387 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,387 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,387 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,387 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,387 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,387 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,388 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,388 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,388 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,388 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,388 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,388 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,388 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:21:32,388 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:21:32,388 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:21:32,388 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:22:34,089 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-3775-B
2025-07-29 14:22:34,089 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,096 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,096 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:22:34,104 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:22:34,104 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,105 - db_manager - INFO - Database connection closed. Duration: 0.02s
2025-07-29 14:22:34,105 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,111 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,112 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:22:34,114 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:22:34,114 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,114 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:22:34,114 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302f1baa90a8a34383076d23d0109b3849a873c895a7b8d6bf2b6ee580206615743b08f48350f8b1c66c122d5468600e643961ad61defc418b98449b326b95f7394a0216de8680ed192
2025-07-29 14:22:34,114 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,120 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,120 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:22:34,122 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:22:34,122 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,123 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:22:34,123 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,128 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,129 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:22:34,130 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:22:34,130 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,130 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:22:34,130 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 14:22:34,131 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-3775-B', 'complainant_phone': 'c30d04070302f1baa90a8a34383076d23d0109b3849a873c895a7b8d6bf2b6ee580206615743b08f48350f8b1c66c122d5468600e643961ad61defc418b98449b326b95f7394a0216de8680ed192', 'complainant_email': 'c30d04070302c7304162d9c8374377d23d0116a7dbfaa58a8b9e8ce6412ce4f90d5c096940be7d2cfd445337fdb2468941301211a8890db6d7255132f90874df603b5734dd16a0e7c92aa197a817', 'complainant_full_name': 'c30d040703020377aa580e659ab96fd23d01f84718148af8b84df5c98a59fb3fb93ef3be3e58d5df1d0d635e049500ae8a4490888ae851be5fbbc4b936566e636b6134c8cafd9e952df30315cfaa', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d0407030257f4a968f206d7db63d23d017cc55042a2ef6932e7b32037dd063bb9e1700caba0213f12779eff82d6d24c5a8b60d9b27a8a6b8c967aaa4f661fda26b94e67fe26f4b33d3ae0b3a5', 'complainant_unique_id': 'CM-20250729-KOJH-3775-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 14:22:34,131 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_phone_hash', 'complainant_full_name_hash'])
2025-07-29 14:22:34,131 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_phone_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 14:22:34,131 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 14:22:34,131 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_phone_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 14:22:34,131 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,136 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,139 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,139 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:22:34,139 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-3775-B
2025-07-29 14:22:34,139 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-3775-B
2025-07-29 14:22:34,139 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-447C-B', 'grievance_description': 'Not provided', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 14:22', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-3775-B'}
2025-07-29 14:22:34,139 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-447C-B
2025-07-29 14:22:34,139 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 14:22:34,139 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 14:22:34,139 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 14:22:34,139 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 14:22:34,140 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,145 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,150 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,151 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:22:34,151 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-447C-B
2025-07-29 14:22:34,151 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-447C-B
2025-07-29 14:22:34,151 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,157 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,158 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:22:34,160 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:22:34,161 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,161 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:22:34,161 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,166 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,166 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:22:34,167 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:22:34,167 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,167 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:22:34,517 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:22:34,522 - db_manager - INFO - Starting database transaction
2025-07-29 14:22:34,522 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:22:34,524 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:22:34,524 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:22:34,524 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,305 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-6787-B
2025-07-29 14:23:31,305 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,311 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,311 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:23:31,314 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:23:31,314 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,314 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,314 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,319 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,319 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:23:31,321 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:23:31,321 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,321 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,321 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d0407030207f8d61a66e050b870d23d018851a2f4c5883f57aefcd21ba7cb5113b30790431b01b2b3bd366dd37d7ad86d27f3bd194f01e3b8a46c109ca5d726e00fbeb471dcd90db67cd04650
2025-07-29 14:23:31,321 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,328 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,328 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:23:31,329 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:23:31,330 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,330 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,330 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,335 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,336 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:23:31,337 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:23:31,337 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,338 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,338 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 14:23:31,338 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-6787-B', 'complainant_phone': 'c30d0407030207f8d61a66e050b870d23d018851a2f4c5883f57aefcd21ba7cb5113b30790431b01b2b3bd366dd37d7ad86d27f3bd194f01e3b8a46c109ca5d726e00fbeb471dcd90db67cd04650', 'complainant_email': 'c30d0407030276931194cbd572976bd23d0109936f9a032f9d0e57c7c1503d6de25ebe610292a8c7eec7025a8a417d50f7625b6a38051245a084334b016f4cdfd84778f7a38fc313ed9b95a39fdf', 'complainant_full_name': 'c30d0407030249816e7283f376c461d23d0181cea37e91729788667945b3f35316ba08554e5614a0c45450a4c8e66f5ec1540ac18e295eb48ea3f6e7315f989adfa2714f3b766b9be8ef6c22d7f4', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302ce895a07a6484b0467d23d015af5038c73104fd5dae71a40481edca2a884216cd440f0496a41e88512bc9e3f0f4d94a7ac11656d074dd07fd36fdfeb5658b8b5be86501e819cf471', 'complainant_unique_id': 'CM-20250729-KOJH-6787-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 14:23:31,338 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_phone_hash', 'complainant_full_name_hash'])
2025-07-29 14:23:31,338 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_phone_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 14:23:31,338 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 14:23:31,338 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_phone_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 14:23:31,338 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,344 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,347 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,347 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,347 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-6787-B
2025-07-29 14:23:31,347 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-6787-B
2025-07-29 14:23:31,347 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-DDDD-B', 'grievance_description': 'there is dust everywhere i need to go to hospital for my baby i have no money to pay doctor or buy medecine', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 14:23', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-6787-B'}
2025-07-29 14:23:31,347 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-DDDD-B
2025-07-29 14:23:31,347 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 14:23:31,347 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 14:23:31,347 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 14:23:31,347 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 14:23:31,347 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,353 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,358 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,358 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,358 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-DDDD-B
2025-07-29 14:23:31,358 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-DDDD-B
2025-07-29 14:23:31,358 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,365 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,365 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:23:31,366 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:23:31,367 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,367 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,367 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,374 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,374 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:23:31,376 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:23:31,376 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,377 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:23:31,675 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:23:31,681 - db_manager - INFO - Starting database transaction
2025-07-29 14:23:31,681 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:23:31,683 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:23:31,683 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:23:31,683 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:31:28,857 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,857 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,857 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,857 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,857 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,857 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,857 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,857 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,857 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,857 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,857 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,857 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,857 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,857 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,857 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,858 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,858 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,858 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,858 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,858 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,858 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,858 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,858 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,858 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,858 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,858 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,858 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:31:28,858 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 14:31:28,858 - db_manager - INFO - Database manager initialized successfully
2025-07-29 14:31:28,858 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 14:33:59,529 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-3D2C-B
2025-07-29 14:33:59,529 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,535 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,535 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:33:59,537 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:33:59,537 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,537 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,537 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,542 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,542 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:33:59,543 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:33:59,543 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,543 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,543 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,548 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,548 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:33:59,549 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:33:59,549 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,549 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,549 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302db139bb0ed7c721468d23d010df46afad1fc87ea67834b16626ce240e776a8c6ea2b8ec841f6e8f535b22e041b3c118b36869f707b8a37bf5f7431a6bccbd4e91e1bfdd43fa9cb4f
2025-07-29 14:33:59,549 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,554 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,554 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 14:33:59,555 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 14:33:59,555 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,555 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,556 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 14:33:59,556 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-3D2C-B', 'complainant_phone': 'c30d04070302db139bb0ed7c721468d23d010df46afad1fc87ea67834b16626ce240e776a8c6ea2b8ec841f6e8f535b22e041b3c118b36869f707b8a37bf5f7431a6bccbd4e91e1bfdd43fa9cb4f', 'complainant_email': 'c30d04070302c1bd5ea5f8e5a05267d23d0133afa210a04c716c92b4bd6a307f2a0655b55f947ca97128182bed1e535181cc17a7af3e7caea57aa3862e53a59533f660892db5ff7f93db068a6700', 'complainant_full_name': 'c30d0407030266ee7f7508a662e170d23d01188515a367aee34c7c947c64137d80572c72b0c7bbd7460a564b7725e97bec023c573706583dce39450cf0600ca2a18d07dd18de9fa6c22d5c53b6cb', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302e43266ecdca38bc16bd23d0140fc496f53f96014e0d7c480950753100e459cc6c4a13b62971e88c192cc67cf7be5fbb3b31c6ae8d003c585dbe27ae857303dc2d08da0404880571c', 'complainant_unique_id': 'CM-20250729-KOJH-3D2C-B', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 14:33:59,556 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_full_name_hash', 'complainant_email_hash', 'complainant_phone_hash'])
2025-07-29 14:33:59,556 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_full_name_hash, complainant_email_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 14:33:59,556 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 14:33:59,556 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_full_name_hash, complainant_email_hash, complainant_phone_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 14:33:59,556 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,561 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,564 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,564 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,564 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-3D2C-B
2025-07-29 14:33:59,564 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-3D2C-B
2025-07-29 14:33:59,564 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-FFFC-B', 'grievance_description': 'i have dust everywhere in my house\nkids are sick\nneed to go to hospital\nno money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 14:33', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-3D2C-B'}
2025-07-29 14:33:59,564 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-FFFC-B
2025-07-29 14:33:59,564 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 14:33:59,564 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 14:33:59,564 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 14:33:59,564 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 14:33:59,564 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,569 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,572 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,572 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,572 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-FFFC-B
2025-07-29 14:33:59,573 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-FFFC-B
2025-07-29 14:33:59,573 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,577 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,577 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:33:59,578 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:33:59,578 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,578 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,579 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,583 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,583 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:33:59,584 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:33:59,584 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,584 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 14:33:59,967 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 14:33:59,972 - db_manager - INFO - Starting database transaction
2025-07-29 14:33:59,972 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 14:33:59,973 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 14:33:59,974 - db_manager - INFO - Transaction committed successfully
2025-07-29 14:33:59,974 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:10:48,860 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,861 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,861 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,861 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,861 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,861 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,861 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,861 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,861 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,861 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,861 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,861 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,862 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,862 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,862 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,862 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,862 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,862 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,862 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,862 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,862 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,862 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,862 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,862 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,862 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,862 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,862 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:10:48,863 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:10:48,863 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:10:48,863 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,378 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,378 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,378 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,378 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,378 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,378 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:13:05,379 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 15:13:05,379 - db_manager - INFO - Database manager initialized successfully
2025-07-29 15:13:05,379 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 15:14:32,889 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-199C-B
2025-07-29 15:14:32,889 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,896 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,897 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 15:14:32,902 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 15:14:32,902 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,902 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:32,903 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,908 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,909 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 15:14:32,910 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 15:14:32,910 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,910 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:32,911 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,916 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,917 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 15:14:32,918 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 15:14:32,918 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,918 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:32,918 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d040703024eedd0c229af7d186bd23d01c2806dd0cff0d5fd2edbbdb890503a6be866b856367c20a9d88ec5eb38c32c5c23ff6c2fa5f6fe1f901248eb2f52d6393bf17836b20dc2b0492ea033
2025-07-29 15:14:32,918 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,924 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,924 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 15:14:32,925 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 15:14:32,925 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,925 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:32,925 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 15:14:32,926 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-199C-B', 'complainant_phone': 'c30d040703024eedd0c229af7d186bd23d01c2806dd0cff0d5fd2edbbdb890503a6be866b856367c20a9d88ec5eb38c32c5c23ff6c2fa5f6fe1f901248eb2f52d6393bf17836b20dc2b0492ea033', 'complainant_email': 'c30d040703025564e21fc540e9e679d23d0194370f41fe0e5bf07da97705b4438d6ce45a705440f4f23c4bd68069b638d82a3d887509a215c4e9b7344689442dddedcde6b1ded19980dc96773e18', 'complainant_full_name': 'c30d0407030285a1e03518f4622c73d23d0151bd79acb219ff5dac2206f82dd9a72053195e778dfe1ec9194500b4977023cadabafc4974ccf89093804a8af9cb5f8ab513496d8fd514f21b7da23f', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302b1fd571ecbf0388f76d23d0153aacd597d7e7b36cf2fcf3b3825975d6c7d9bf4bf3ecc4d980f925b38a5317645496caff7d161b1b79418e2ec549fd971e997d64b268988fa19df32', 'complainant_unique_id': 'CM-20250729-KOJH-199C-B', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 15:14:32,926 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_email_hash', 'complainant_phone_hash', 'complainant_full_name_hash'])
2025-07-29 15:14:32,926 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_phone_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 15:14:32,926 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 15:14:32,926 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_email_hash, complainant_phone_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 15:14:32,926 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,931 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,934 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,934 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:32,934 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-199C-B
2025-07-29 15:14:32,934 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-199C-B
2025-07-29 15:14:32,934 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-07FE-B', 'grievance_description': 'there is dust everywhere at my house\nthe children are coughing\ni need to go to hospital', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 15:14', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-199C-B'}
2025-07-29 15:14:32,934 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-07FE-B
2025-07-29 15:14:32,934 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 15:14:32,934 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 15:14:32,935 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 15:14:32,935 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 15:14:32,935 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,940 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,944 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,944 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:32,944 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-07FE-B
2025-07-29 15:14:32,944 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-07FE-B
2025-07-29 15:14:32,945 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,949 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,950 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 15:14:32,951 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 15:14:32,951 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,952 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:32,952 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:32,957 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:32,957 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 15:14:32,958 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 15:14:32,958 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:32,958 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 15:14:33,709 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 15:14:33,715 - db_manager - INFO - Starting database transaction
2025-07-29 15:14:33,715 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 15:14:33,717 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 15:14:33,717 - db_manager - INFO - Transaction committed successfully
2025-07-29 15:14:33,717 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:19:04,723 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,724 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,724 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,724 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,724 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,724 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,724 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,724 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,724 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,724 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,724 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,724 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,724 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,724 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,724 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,724 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,725 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,725 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,725 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,725 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,725 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,725 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,725 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,725 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,725 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,725 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,725 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:19:04,725 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:19:04,725 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:19:04,725 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:20:27,206 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-8E5E-B
2025-07-29 17:20:27,207 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,213 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,213 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:20:27,217 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:20:27,217 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,218 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,218 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302c19c3babf65650786dd23d016582e5ca9281d8b26298949aac4c299cf31c78e77e57c78a24d4c5af7f1c0cebf02eed34daef8eef1a1cd6e91b218ec8a1e40765b141a9bb5359ae31
2025-07-29 17:20:27,218 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,223 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,223 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:20:27,224 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:20:27,224 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,224 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,224 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,230 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,230 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:20:27,231 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:20:27,232 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,232 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,232 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,237 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,237 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:20:27,238 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:20:27,239 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,239 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,239 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 17:20:27,239 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-8E5E-B', 'complainant_phone': 'c30d04070302c19c3babf65650786dd23d016582e5ca9281d8b26298949aac4c299cf31c78e77e57c78a24d4c5af7f1c0cebf02eed34daef8eef1a1cd6e91b218ec8a1e40765b141a9bb5359ae31', 'complainant_email': 'c30d040703022d71632fa11deb5168d23d01147f378445d2f9c7018b357de976d377672f933fe38a1b9de27e94a09c00d612e8d4e6b92a0eac1f371aa5ba38e458db05322ee65251021ea4ea2358', 'complainant_full_name': 'c30d04070302986bd6043fd0208462d23d01af560c0a99ec12c2ed55d18ba7f5fa05714906514e08c8c21f5914f85932bc1cc2d898787fda71cbeda39b0029bc7ae2a98f7ea0ca70c0c9377f1f1d', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d040703029086d40f29919ec97ed23d01dfeb3608b534974bd59f8c641e46fd9c2015e7ec29f21ffcd5183e05cfcbdcc5b00a1375b798bfe444110b69076dc397f4cbc25abb0366dea655c556', 'complainant_unique_id': 'CM-20250729-KOJH-8E5E-B', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 17:20:27,239 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_phone_hash', 'complainant_email_hash', 'complainant_full_name_hash'])
2025-07-29 17:20:27,239 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 17:20:27,239 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 17:20:27,239 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 17:20:27,239 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,243 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,246 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,246 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,247 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-8E5E-B
2025-07-29 17:20:27,247 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-8E5E-B
2025-07-29 17:20:27,247 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-7427-B', 'grievance_description': 'there is dust everywhere\ni have no money \nkids are sick\ncannot go to hospital', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 17:20', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-8E5E-B'}
2025-07-29 17:20:27,247 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-7427-B
2025-07-29 17:20:27,247 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 17:20:27,247 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 17:20:27,247 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 17:20:27,247 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 17:20:27,247 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,252 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,257 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,257 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,257 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-7427-B
2025-07-29 17:20:27,257 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-7427-B
2025-07-29 17:20:27,257 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,263 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,263 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 17:20:27,264 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 17:20:27,264 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,265 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,265 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,270 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,270 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 17:20:27,271 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 17:20:27,271 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,271 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:20:27,666 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:20:27,672 - db_manager - INFO - Starting database transaction
2025-07-29 17:20:27,672 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 17:20:27,673 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 17:20:27,674 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:20:27,674 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:42:32,364 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,364 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,365 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,365 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,365 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,365 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,365 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,365 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,365 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,365 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,365 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,366 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,366 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:42:32,366 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:42:32,366 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:42:32,366 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,347 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,347 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,347 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,347 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,347 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,347 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,348 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,348 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,348 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,348 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,348 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,348 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,348 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,348 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,348 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,348 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,348 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,348 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,348 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,348 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,348 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,348 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,349 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,349 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,349 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,349 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,349 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:52:01,349 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 17:52:01,349 - db_manager - INFO - Database manager initialized successfully
2025-07-29 17:52:01,349 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 17:53:18,807 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-52D8-B
2025-07-29 17:53:18,808 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,815 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,815 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:53:18,818 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:53:18,818 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,818 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:18,818 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302eecaf6b8b06ba70663d23d013068e74f978c8e8506b28ce35168fa8e3ab3e76df1ce3d1b63c6b74311db2a7bf1fe2b27c30c38c12b0ce4cd3e1a87cd77d8e6166596596e827c8796
2025-07-29 17:53:18,818 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,823 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,823 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:53:18,824 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:53:18,824 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,824 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:18,824 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,829 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,829 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:53:18,830 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:53:18,830 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,830 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:18,830 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,835 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,835 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 17:53:18,836 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 17:53:18,837 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,837 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:18,837 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 17:53:18,837 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-52D8-B', 'complainant_phone': 'c30d04070302eecaf6b8b06ba70663d23d013068e74f978c8e8506b28ce35168fa8e3ab3e76df1ce3d1b63c6b74311db2a7bf1fe2b27c30c38c12b0ce4cd3e1a87cd77d8e6166596596e827c8796', 'complainant_email': 'c30d040703029646e20b70a61f7661d23d01febdd78706dd65e2b46a8f6069f2778c3dd2957329b76858404290345d129a3534b66dcbbf600428803b03c545303084a83df62061e70325e518b42d', 'complainant_full_name': 'c30d040703023bac70c73ae2b42076d23d01cb1c49fd5265eb1b763a771718008a75763e3f9ee6600eaf626c79206d0019b4667b7a197bf73f1362610afe3c1525e42e4fc0246ad4572f1cabc646', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d040703023117fd946e49179978d23d01620bc93ab85e931bed2fc0f1a12da6c989befdd452dcf2c7c9a5cd519e6b182ed7ebee0b10ae1ec2f8b6adf9dc468270f5931ce93703281e42e171fc', 'complainant_unique_id': 'CM-20250729-KOJH-52D8-B', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 17:53:18,837 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_phone_hash', 'complainant_email_hash', 'complainant_full_name_hash'])
2025-07-29 17:53:18,837 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 17:53:18,837 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 17:53:18,837 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 17:53:18,837 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,842 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,844 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,845 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:18,845 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-52D8-B
2025-07-29 17:53:18,845 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-52D8-B
2025-07-29 17:53:18,845 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-77FD-B', 'grievance_description': 'there is dust everywhere\nmu children are sick\ni need to go to hospital\nwithout money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 17:53', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-52D8-B'}
2025-07-29 17:53:18,845 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-77FD-B
2025-07-29 17:53:18,845 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 17:53:18,845 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 17:53:18,845 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 17:53:18,845 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 17:53:18,845 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,850 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,854 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,854 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:18,855 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-77FD-B
2025-07-29 17:53:18,855 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-77FD-B
2025-07-29 17:53:18,855 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,860 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,860 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 17:53:18,861 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 17:53:18,861 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,861 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:18,861 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:18,866 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:18,866 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 17:53:18,867 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 17:53:18,868 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:18,868 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 17:53:19,328 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 17:53:19,333 - db_manager - INFO - Starting database transaction
2025-07-29 17:53:19,333 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 17:53:19,334 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 17:53:19,334 - db_manager - INFO - Transaction committed successfully
2025-07-29 17:53:19,334 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:28:10,421 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,421 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,421 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,421 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,422 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,422 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,422 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,422 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,422 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,422 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,422 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,422 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,422 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:28:10,423 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:28:10,423 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:28:10,423 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:31:53,415 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-5DA3-B
2025-07-29 18:31:53,417 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,422 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,423 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 18:31:53,426 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 18:31:53,426 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,426 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,426 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,431 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,431 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 18:31:53,432 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 18:31:53,432 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,432 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,433 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,437 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,438 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 18:31:53,438 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 18:31:53,439 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,439 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,439 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d040703023796812b43f7421d67d23d019328c08c85e1e78408477840c66a7775a9cbfd967351763f0e5d5abed042c04f72bc79412f1df376a938e90befe1c85a5f3c214e61ce2153bd1b7dfd
2025-07-29 18:31:53,439 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,444 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,444 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 18:31:53,445 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 18:31:53,445 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,445 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,445 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 18:31:53,445 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-5DA3-B', 'complainant_phone': 'c30d040703023796812b43f7421d67d23d019328c08c85e1e78408477840c66a7775a9cbfd967351763f0e5d5abed042c04f72bc79412f1df376a938e90befe1c85a5f3c214e61ce2153bd1b7dfd', 'complainant_email': 'c30d04070302e1f7ff6661b214ff73d23d0133ac40b4ea5a7753cb4665ac9a1d95a81ef686380ba2495ea822a6e55515abfc8825b684151440fc75e3d85c499877c40e24552345e7ef82aa672cc6', 'complainant_full_name': 'c30d04070302a64fba4ea9893bef60d23d0148c9d84bebf30b32fa4633ad685a068f885039d3c38bc8a525dfaa29fa75ec3e6cae1704f27c7ec8f2fd72197d4e45388367b3db269ef6150272a5f3', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302c71c97a12ceb40136cd23d01a919f976196c51aa5f53d21954e47024c88faa1abdf64cde1ff8e39ab8ac67796eacbb842f770d088f2d9b5655a912152055e6e87f540411a3ec8bce', 'complainant_unique_id': 'CM-20250729-KOJH-5DA3-B', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 18:31:53,445 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_full_name_hash', 'complainant_phone_hash', 'complainant_email_hash'])
2025-07-29 18:31:53,445 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_full_name_hash, complainant_phone_hash, complainant_email_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 18:31:53,445 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 18:31:53,445 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_full_name_hash, complainant_phone_hash, complainant_email_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 18:31:53,445 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,450 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,453 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,453 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,453 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-5DA3-B
2025-07-29 18:31:53,453 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-5DA3-B
2025-07-29 18:31:53,453 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-94C6-B', 'grievance_description': 'there is dust everywhere in the house kids are sick go to hospital no money', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 18:31', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-5DA3-B'}
2025-07-29 18:31:53,453 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-94C6-B
2025-07-29 18:31:53,453 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 18:31:53,454 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 18:31:53,454 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 18:31:53,454 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 18:31:53,454 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,458 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,463 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,463 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,463 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-94C6-B
2025-07-29 18:31:53,463 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-94C6-B
2025-07-29 18:31:53,464 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,469 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,469 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 18:31:53,470 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 18:31:53,470 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,471 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,471 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,476 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,476 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 18:31:53,477 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 18:31:53,477 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,477 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:31:53,805 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 18:31:53,811 - db_manager - INFO - Starting database transaction
2025-07-29 18:31:53,811 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 18:31:53,812 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 18:31:53,812 - db_manager - INFO - Transaction committed successfully
2025-07-29 18:31:53,812 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 18:41:42,573 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,574 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,574 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,574 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,574 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,574 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,574 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,574 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,574 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,575 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,575 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,575 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,575 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,575 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,575 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,575 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,575 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,575 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,575 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,575 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,575 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,575 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,575 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,575 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,575 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,575 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,575 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:41:42,575 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:41:42,575 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:41:42,575 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,335 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,335 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,335 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,336 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,336 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,336 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,336 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,336 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,336 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,336 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,336 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,336 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,336 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,336 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,336 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,336 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,336 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,336 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,336 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,336 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,337 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,337 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,337 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,337 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,337 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,337 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,337 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 18:42:45,337 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 18:42:45,337 - db_manager - INFO - Database manager initialized successfully
2025-07-29 18:42:45,337 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,879 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,879 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,879 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,879 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,880 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,880 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,880 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,880 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,880 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,880 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,880 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,880 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,880 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:23:18,881 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-07-29 19:23:18,881 - db_manager - INFO - Database manager initialized successfully
2025-07-29 19:23:18,881 - db_manager - INFO - Encryption enabled for sensitive fields
2025-07-29 19:36:33,715 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250729-KOJH-5445-B
2025-07-29 19:36:33,716 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,722 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,722 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 19:36:33,724 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 19:36:33,725 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,725 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:33,725 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,730 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,730 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 19:36:33,731 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 19:36:33,731 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,731 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:33,731 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d040703028c75ebc76e53600868d23d01af2ab883326caba97218dc53b854d029690bb82f3af292060a68f4b1cd5afbb1863ad56fae513006aca2f433a4915623e52d84e7086768543812e45f
2025-07-29 19:36:33,731 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,735 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,735 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 19:36:33,736 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 19:36:33,736 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,736 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:33,736 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,741 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,741 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-07-29 19:36:33,742 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-07-29 19:36:33,742 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,742 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:33,742 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-07-29 19:36:33,742 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250729-KOJH-5445-B', 'complainant_phone': 'c30d040703028c75ebc76e53600868d23d01af2ab883326caba97218dc53b854d029690bb82f3af292060a68f4b1cd5afbb1863ad56fae513006aca2f433a4915623e52d84e7086768543812e45f', 'complainant_email': 'c30d04070302e18c599d827e5efd72d23d01523d827fcbb881a48083c8be0468ed11571919502c4ea8a0ae478df4d2ef0806ed5c09a8759ed7702a2bf66b6ee3d5dc454f16f011d6e5a6229318c1', 'complainant_full_name': 'c30d04070302bb636fd7f49f9a7768d23d01204b1ead8a69a795c620863b55da21871795d68adf00076e7308e3fe381a8fd547fe61af3d58606dad25690e084d69452be1494b96bc3ee899be6a31', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': 'Not provided', 'complainant_ward': '0', 'complainant_village': 'Not provided', 'complainant_address': 'c30d04070302a5a55f657e4cf3f37fd23d01a5ebb4d01f4f2174d2246873e9805a13b07a12f60b95270d2d8be63a4cc3c5ffadeea27931b77a88646e87f95c8e0e0bd3df35e74d2cf2194daa94d8', 'complainant_unique_id': 'CM-20250729-KOJH-5445-B', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-07-29 19:36:33,742 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_phone', 'complainant_email', 'complainant_full_name', 'complainant_province', 'complainant_district', 'complainant_municipality', 'complainant_ward', 'complainant_village', 'complainant_address', 'complainant_unique_id', 'complainant_phone_hash', 'complainant_email_hash', 'complainant_full_name_hash'])
2025-07-29 19:36:33,742 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 19:36:33,742 - db_manager - DEBUG - len of query_keys: 14
2025-07-29 19:36:33,742 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_phone, complainant_email, complainant_full_name, complainant_province, complainant_district, complainant_municipality, complainant_ward, complainant_village, complainant_address, complainant_unique_id, complainant_phone_hash, complainant_email_hash, complainant_full_name_hash) VALUES (%s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s, %s)
2025-07-29 19:36:33,743 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,747 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,750 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,750 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:33,750 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250729-KOJH-5445-B
2025-07-29 19:36:33,750 - db_manager - INFO - Complainant created in db: CM-20250729-KOJH-5445-B
2025-07-29 19:36:33,750 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250729-KOJH-D458-B', 'grievance_description': 'there is dust everywehere\neverybodu is sick', 'otp_verified': 'Not provided', 'grievance_categories': 'Not provided', 'grievance_summary': 'Not provided', 'grievance_status': 'SUBMITTED', 'submission_type': 'new_grievance', 'grievance_timestamp': '2025-07-29 19:36', 'grievance_timeline': '2025-08-13', 'source': 'bot', 'complainant_id': 'CM-20250729-KOJH-5445-B'}
2025-07-29 19:36:33,750 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250729-KOJH-D458-B
2025-07-29 19:36:33,750 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_categories', 'grievance_summary', 'grievance_description', 'source'])
2025-07-29 19:36:33,750 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 19:36:33,750 - db_manager - DEBUG - len of query_keys: 6
2025-07-29 19:36:33,750 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_categories, grievance_summary, grievance_description, source) VALUES (%s, %s, %s, %s, %s, %s) RETURNING grievance_id
2025-07-29 19:36:33,750 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,755 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,758 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,758 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:33,758 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250729-KOJH-D458-B
2025-07-29 19:36:33,758 - db_manager - INFO - Grievance created in db: GR-20250729-KOJH-D458-B
2025-07-29 19:36:33,758 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,763 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,763 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 19:36:33,764 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 19:36:33,764 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,764 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:33,764 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:33,768 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:33,768 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 19:36:33,769 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 19:36:33,769 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:33,770 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-07-29 19:36:34,457 - db_manager - INFO - Connecting to database: grievance_db
2025-07-29 19:36:34,462 - db_manager - INFO - Starting database transaction
2025-07-29 19:36:34,463 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-07-29 19:36:34,463 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-07-29 19:36:34,464 - db_manager - INFO - Transaction committed successfully
2025-07-29 19:36:34,464 - db_manager - INFO - Database connection closed. Duration: 0.01s
