2025-09-05 11:57:52,858 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,858 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,858 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:57:52,859 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 11:57:52,859 - db_manager - INFO - Database manager initialized successfully
2025-09-05 11:57:52,859 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 11:59:12,682 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250905-KOJH-E70C-B
2025-09-05 11:59:12,682 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250905-KOJH-E70C-B', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_unique_id': 'CM-20250905-KOJH-E70C-B'}
2025-09-05 11:59:12,682 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_province', 'complainant_district', 'complainant_unique_id'])
2025-09-05 11:59:12,682 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 11:59:12,682 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 11:59:12,682 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 11:59:12,683 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:12,688 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:12,691 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:12,691 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:12,691 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250905-KOJH-E70C-B
2025-09-05 11:59:12,691 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250905-KOJH-045C-B', 'complainant_id': 'CM-20250905-KOJH-E70C-B', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_office': None, 'source': 'bot', 'complainant_unique_id': 'CM-20250905-KOJH-E70C-B'}
2025-09-05 11:59:12,691 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250905-KOJH-045C-B
2025-09-05 11:59:12,691 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_description', 'source'])
2025-09-05 11:59:12,691 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 11:59:12,691 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 11:59:12,691 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 11:59:12,691 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:12,696 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:12,701 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:12,701 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:12,701 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250905-KOJH-045C-B
2025-09-05 11:59:42,151 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,156 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,156 - db_manager - INFO - Executing get_complainant_by_id: 
            SELECT complainant_id, complainant_unique_id, complainant_full_name,    complainant_pho...
2025-09-05 11:59:42,157 - db_manager - INFO - get_complainant_by_id completed in 0.01s. Rows: 1
2025-09-05 11:59:42,157 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,158 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,158 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,163 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,163 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 11:59:42,165 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 11:59:42,165 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,165 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,165 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-045C-B', 'complainant_id': 'CM-20250905-KOJH-E70C-B', 'grievance_categories': '{"Environmental - Air Pollution","Safety - Road Safety Provisions"}', 'grievance_summary': 'धूलभरी हो, बच्चाहरूलाई खोकी लाग्दैछ र मलाई स्वास्थ्यकेन्द्र/अस्पताल जान पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 11, 59, 12, 696444, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 11, 59, 17, 271607, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-045C-B', 'complainant_id': 'CM-20250905-KOJH-E70C-B', 'grievance_categories': '{"Environmental - Air Pollution","Safety - Road Safety Provisions"}', 'grievance_summary': 'धूलभरी हो, बच्चाहरूलाई खोकी लाग्दैछ र मलाई स्वास्थ्यकेन्द्र/अस्पताल जान पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 11, 59, 12, 696444, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 11, 59, 17, 271607, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 11:59:42,165 - db_manager - INFO - update_complainant: Updating complainant with ID: CM-20250905-KOJH-E70C-B
2025-09-05 11:59:42,165 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,170 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,170 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 11:59:42,173 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 11:59:42,174 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,174 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,174 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,178 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,179 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 11:59:42,180 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 11:59:42,180 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,180 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,180 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,184 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,185 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 11:59:42,186 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 11:59:42,186 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,186 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,186 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d040703021086ba4060c9e7c773d23d01104e7c01a3f239177e3d3d8ea6ecbce9e336330bf5903f82de219852111f6afa97215be6183d95fa0d30137574977dacaaf22f41e51b016a8ef385da
2025-09-05 11:59:42,186 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-09-05 11:59:42,186 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_full_name': 'c30d040703027d1f9f2c7ac5f8b36cd23d017c56214587e218cafc010bdbfb7dd02d828b838b4013e74ab69d296149d89e128d5d171701afcd02717e8fe470f746e755f3ef00377b7eb992ec075d', 'complainant_phone': 'c30d040703021086ba4060c9e7c773d23d01104e7c01a3f239177e3d3d8ea6ecbce9e336330bf5903f82de219852111f6afa97215be6183d95fa0d30137574977dacaaf22f41e51b016a8ef385da', 'complainant_email': 'c30d04070302105df0b096c1bf456dd23d017a2c0548a88e7d1bdd5b8116a6700e7db11c9c18f922b2d01c9f765b1c7c32a8efd1c23cb119151704d8690fbf39b3be3774c3deaba65a5da73f4d2d', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 11:59:42,186 - db_manager - DEBUG - encrypted_data at update_complainant: {'complainant_full_name': 'c30d040703027d1f9f2c7ac5f8b36cd23d017c56214587e218cafc010bdbfb7dd02d828b838b4013e74ab69d296149d89e128d5d171701afcd02717e8fe470f746e755f3ef00377b7eb992ec075d', 'complainant_phone': 'c30d040703021086ba4060c9e7c773d23d01104e7c01a3f239177e3d3d8ea6ecbce9e336330bf5903f82de219852111f6afa97215be6183d95fa0d30137574977dacaaf22f41e51b016a8ef385da', 'complainant_email': 'c30d04070302105df0b096c1bf456dd23d017a2c0548a88e7d1bdd5b8116a6700e7db11c9c18f922b2d01c9f765b1c7c32a8efd1c23cb119151704d8690fbf39b3be3774c3deaba65a5da73f4d2d', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 11:59:42,186 - db_manager - DEBUG - execute_update values: ('c30d040703027d1f9f2c7ac5f8b36cd23d017c56214587e218cafc010bdbfb7dd02d828b838b4013e74ab69d296149d89e128d5d171701afcd02717e8fe470f746e755f3ef00377b7eb992ec075d', 'c30d040703021086ba4060c9e7c773d23d01104e7c01a3f239177e3d3d8ea6ecbce9e336330bf5903f82de219852111f6afa97215be6183d95fa0d30137574977dacaaf22f41e51b016a8ef385da', 'c30d04070302105df0b096c1bf456dd23d017a2c0548a88e7d1bdd5b8116a6700e7db11c9c18f922b2d01c9f765b1c7c32a8efd1c23cb119151704d8690fbf39b3be3774c3deaba65a5da73f4d2d', 'Koshi', 'Jhapa', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'CM-20250905-KOJH-E70C-B')
2025-09-05 11:59:42,186 - db_manager - DEBUG - execute_update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, complainant_province = %s, complainant_district = %s, complainant_full_name_hash = %s, complainant_email_hash = %s, complainant_phone_hash = %s WHERE complainant_id = %s
2025-09-05 11:59:42,186 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,191 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,191 - db_manager - INFO - execute_update: Executing update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, ...
2025-09-05 11:59:42,192 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 11:59:42,193 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,193 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,193 - db_manager - INFO - Complainant updated in db: CM-20250905-KOJH-E70C-B
2025-09-05 11:59:42,194 - db_manager - INFO - update_grievance: Updating grievance with ID: GR-20250905-KOJH-045C-B
2025-09-05 11:59:42,194 - db_manager - DEBUG - execute_update values: ('dust everywhere kids coughing I need to go to the hospital', 'GR-20250905-KOJH-045C-B')
2025-09-05 11:59:42,194 - db_manager - DEBUG - execute_update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievance_modification_date = CURRENT_TIMESTAMP
                    WHERE grievance_id = %s
                    RETURNING grievance_id
                
2025-09-05 11:59:42,194 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,198 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,198 - db_manager - INFO - execute_update: Executing update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievanc...
2025-09-05 11:59:42,200 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 11:59:42,202 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,202 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,202 - db_manager - INFO - update_grievance: Updated grievance with ID: GR-20250905-KOJH-045C-B, rows affected: 1
2025-09-05 11:59:42,202 - db_manager - INFO - Grievance updated in db: GR-20250905-KOJH-045C-B
2025-09-05 11:59:42,202 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,206 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,206 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 11:59:42,207 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 11:59:42,207 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,207 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,207 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,212 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,212 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 11:59:42,213 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 11:59:42,213 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,214 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,256 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 11:59:42,261 - db_manager - INFO - Starting database transaction
2025-09-05 11:59:42,261 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 11:59:42,263 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 11:59:42,263 - db_manager - INFO - Transaction committed successfully
2025-09-05 11:59:42,264 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 11:59:42,264 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-045C-B', 'complainant_id': 'CM-20250905-KOJH-E70C-B', 'grievance_categories': '{"Environmental - Air Pollution","Safety - Road Safety Provisions"}', 'grievance_summary': 'धूलभरी हो, बच्चाहरूलाई खोकी लाग्दैछ र मलाई स्वास्थ्यकेन्द्र/अस्पताल जान पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 11, 59, 12, 696444, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 11, 59, 42, 198959, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703027d1f9f2c7ac5f8b36cd23d017c56214587e218cafc010bdbfb7dd02d828b838b4013e74ab69d296149d89e128d5d171701afcd02717e8fe470f746e755f3ef00377b7eb992ec075d', 'complainant_phone': 'c30d040703021086ba4060c9e7c773d23d01104e7c01a3f239177e3d3d8ea6ecbce9e336330bf5903f82de219852111f6afa97215be6183d95fa0d30137574977dacaaf22f41e51b016a8ef385da', 'complainant_email': 'c30d04070302105df0b096c1bf456dd23d017a2c0548a88e7d1bdd5b8116a6700e7db11c9c18f922b2d01c9f765b1c7c32a8efd1c23cb119151704d8690fbf39b3be3774c3deaba65a5da73f4d2d', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-045C-B', 'complainant_id': 'CM-20250905-KOJH-E70C-B', 'grievance_categories': '{"Environmental - Air Pollution","Safety - Road Safety Provisions"}', 'grievance_summary': 'धूलभरी हो, बच्चाहरूलाई खोकी लाग्दैछ र मलाई स्वास्थ्यकेन्द्र/अस्पताल जान पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 11, 59, 12, 696444, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 11, 59, 42, 198959, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703027d1f9f2c7ac5f8b36cd23d017c56214587e218cafc010bdbfb7dd02d828b838b4013e74ab69d296149d89e128d5d171701afcd02717e8fe470f746e755f3ef00377b7eb992ec075d', 'complainant_phone': 'c30d040703021086ba4060c9e7c773d23d01104e7c01a3f239177e3d3d8ea6ecbce9e336330bf5903f82de219852111f6afa97215be6183d95fa0d30137574977dacaaf22f41e51b016a8ef385da', 'complainant_email': 'c30d04070302105df0b096c1bf456dd23d017a2c0548a88e7d1bdd5b8116a6700e7db11c9c18f922b2d01c9f765b1c7c32a8efd1c23cb119151704d8690fbf39b3be3774c3deaba65a5da73f4d2d', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 12:15:24,484 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,485 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,485 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,485 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,485 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,485 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,485 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,485 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,485 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,485 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,485 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,485 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,485 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,485 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,485 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,485 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,486 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,486 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,486 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,486 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:24,486 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:15:24,486 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:15:24,486 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:15:57,898 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250905-KOJH-CCD4-B
2025-09-05 12:15:57,898 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250905-KOJH-CCD4-B', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_unique_id': 'CM-20250905-KOJH-CCD4-B'}
2025-09-05 12:15:57,898 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_province', 'complainant_district', 'complainant_unique_id'])
2025-09-05 12:15:57,898 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 12:15:57,898 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 12:15:57,898 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 12:15:57,898 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:15:57,904 - db_manager - INFO - Starting database transaction
2025-09-05 12:15:57,906 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:15:57,906 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:15:57,906 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250905-KOJH-CCD4-B
2025-09-05 12:15:57,906 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250905-KOJH-F899-B', 'complainant_id': 'CM-20250905-KOJH-CCD4-B', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_office': None, 'source': 'bot', 'complainant_unique_id': 'CM-20250905-KOJH-CCD4-B'}
2025-09-05 12:15:57,907 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250905-KOJH-F899-B
2025-09-05 12:15:57,907 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_description', 'source'])
2025-09-05 12:15:57,907 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 12:15:57,907 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 12:15:57,907 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 12:15:57,907 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:15:57,911 - db_manager - INFO - Starting database transaction
2025-09-05 12:15:57,915 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:15:57,915 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:15:57,915 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250905-KOJH-F899-B
2025-09-05 12:16:17,572 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,577 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,577 - db_manager - INFO - Executing get_complainant_by_id: 
            SELECT complainant_id, complainant_unique_id, complainant_full_name,    complainant_pho...
2025-09-05 12:16:17,578 - db_manager - INFO - get_complainant_by_id completed in 0.01s. Rows: 1
2025-09-05 12:16:17,578 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,578 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,579 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,583 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,584 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 12:16:17,585 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 12:16:17,585 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,585 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,585 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-F899-B', 'complainant_id': 'CM-20250905-KOJH-CCD4-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल हरेक ठाउँमा, छोराछोरीहरू कोक्रिन्दैछन, मलाई अस्पताल जान आवश्यक छ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 15, 57, 911881, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 16, 3, 671342, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-F899-B', 'complainant_id': 'CM-20250905-KOJH-CCD4-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल हरेक ठाउँमा, छोराछोरीहरू कोक्रिन्दैछन, मलाई अस्पताल जान आवश्यक छ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 15, 57, 911881, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 16, 3, 671342, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 12:16:17,586 - db_manager - INFO - update_complainant: Updating complainant with ID: CM-20250905-KOJH-CCD4-B
2025-09-05 12:16:17,586 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,591 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,591 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 12:16:17,594 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 12:16:17,594 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,594 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,594 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,599 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,599 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 12:16:17,600 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 12:16:17,601 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,601 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,601 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d0407030285ce5b5553626fd672d23d01c408529006fd607c2a1571cebef76a3413dbe388b888812d828ef1a1e985d9b51a54835828ffd8c73b7c707af0664c520faf633eab2ad068a014c325
2025-09-05 12:16:17,601 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,605 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,605 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 12:16:17,606 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 12:16:17,606 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,606 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,606 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-09-05 12:16:17,607 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_full_name': 'c30d0407030247f1d4b3226d95136cd23d0165c544c0c61403580bfb5682162f24f30740dbebda34198d02a67bf21008be0676cb09d889c882ee013da742496070fb4ec79f073a9d3dd02ab8d3bc', 'complainant_phone': 'c30d0407030285ce5b5553626fd672d23d01c408529006fd607c2a1571cebef76a3413dbe388b888812d828ef1a1e985d9b51a54835828ffd8c73b7c707af0664c520faf633eab2ad068a014c325', 'complainant_email': 'c30d040703022c578b3f021bde8978d23d015214f8105214b46113d3d923635587f2b60f8fc2639b5749d8e8011000db6f0cbe571db301b3e7a3aa935009b076d6160b64dbe2e4d524ce65b794f7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 12:16:17,607 - db_manager - DEBUG - encrypted_data at update_complainant: {'complainant_full_name': 'c30d0407030247f1d4b3226d95136cd23d0165c544c0c61403580bfb5682162f24f30740dbebda34198d02a67bf21008be0676cb09d889c882ee013da742496070fb4ec79f073a9d3dd02ab8d3bc', 'complainant_phone': 'c30d0407030285ce5b5553626fd672d23d01c408529006fd607c2a1571cebef76a3413dbe388b888812d828ef1a1e985d9b51a54835828ffd8c73b7c707af0664c520faf633eab2ad068a014c325', 'complainant_email': 'c30d040703022c578b3f021bde8978d23d015214f8105214b46113d3d923635587f2b60f8fc2639b5749d8e8011000db6f0cbe571db301b3e7a3aa935009b076d6160b64dbe2e4d524ce65b794f7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 12:16:17,607 - db_manager - DEBUG - execute_update values: ('c30d0407030247f1d4b3226d95136cd23d0165c544c0c61403580bfb5682162f24f30740dbebda34198d02a67bf21008be0676cb09d889c882ee013da742496070fb4ec79f073a9d3dd02ab8d3bc', 'c30d0407030285ce5b5553626fd672d23d01c408529006fd607c2a1571cebef76a3413dbe388b888812d828ef1a1e985d9b51a54835828ffd8c73b7c707af0664c520faf633eab2ad068a014c325', 'c30d040703022c578b3f021bde8978d23d015214f8105214b46113d3d923635587f2b60f8fc2639b5749d8e8011000db6f0cbe571db301b3e7a3aa935009b076d6160b64dbe2e4d524ce65b794f7', 'Koshi', 'Jhapa', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'CM-20250905-KOJH-CCD4-B')
2025-09-05 12:16:17,607 - db_manager - DEBUG - execute_update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, complainant_province = %s, complainant_district = %s, complainant_full_name_hash = %s, complainant_phone_hash = %s, complainant_email_hash = %s WHERE complainant_id = %s
2025-09-05 12:16:17,607 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,611 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,611 - db_manager - INFO - execute_update: Executing update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, ...
2025-09-05 12:16:17,612 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 12:16:17,621 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,621 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,621 - db_manager - INFO - Complainant updated in db: CM-20250905-KOJH-CCD4-B
2025-09-05 12:16:17,621 - db_manager - INFO - update_grievance: Updating grievance with ID: GR-20250905-KOJH-F899-B
2025-09-05 12:16:17,621 - db_manager - DEBUG - execute_update values: ('dust everywhere kids coughing I need to go to the hospital', 'GR-20250905-KOJH-F899-B')
2025-09-05 12:16:17,621 - db_manager - DEBUG - execute_update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievance_modification_date = CURRENT_TIMESTAMP
                    WHERE grievance_id = %s
                    RETURNING grievance_id
                
2025-09-05 12:16:17,621 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,625 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,626 - db_manager - INFO - execute_update: Executing update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievanc...
2025-09-05 12:16:17,626 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 12:16:17,629 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,629 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,629 - db_manager - INFO - update_grievance: Updated grievance with ID: GR-20250905-KOJH-F899-B, rows affected: 1
2025-09-05 12:16:17,629 - db_manager - INFO - Grievance updated in db: GR-20250905-KOJH-F899-B
2025-09-05 12:16:17,629 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,633 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,633 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 12:16:17,634 - db_manager - INFO - get_grievance_files completed in 0.00s. Rows: 0
2025-09-05 12:16:17,634 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,634 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,634 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,638 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,638 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 12:16:17,639 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 12:16:17,639 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,639 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,680 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:16:17,685 - db_manager - INFO - Starting database transaction
2025-09-05 12:16:17,685 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 12:16:17,687 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 12:16:17,687 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:16:17,687 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:16:17,687 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-F899-B', 'complainant_id': 'CM-20250905-KOJH-CCD4-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल हरेक ठाउँमा, छोराछोरीहरू कोक्रिन्दैछन, मलाई अस्पताल जान आवश्यक छ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 15, 57, 911881, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 16, 17, 626130, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d0407030247f1d4b3226d95136cd23d0165c544c0c61403580bfb5682162f24f30740dbebda34198d02a67bf21008be0676cb09d889c882ee013da742496070fb4ec79f073a9d3dd02ab8d3bc', 'complainant_phone': 'c30d0407030285ce5b5553626fd672d23d01c408529006fd607c2a1571cebef76a3413dbe388b888812d828ef1a1e985d9b51a54835828ffd8c73b7c707af0664c520faf633eab2ad068a014c325', 'complainant_email': 'c30d040703022c578b3f021bde8978d23d015214f8105214b46113d3d923635587f2b60f8fc2639b5749d8e8011000db6f0cbe571db301b3e7a3aa935009b076d6160b64dbe2e4d524ce65b794f7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-F899-B', 'complainant_id': 'CM-20250905-KOJH-CCD4-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल हरेक ठाउँमा, छोराछोरीहरू कोक्रिन्दैछन, मलाई अस्पताल जान आवश्यक छ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 15, 57, 911881, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 16, 17, 626130, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d0407030247f1d4b3226d95136cd23d0165c544c0c61403580bfb5682162f24f30740dbebda34198d02a67bf21008be0676cb09d889c882ee013da742496070fb4ec79f073a9d3dd02ab8d3bc', 'complainant_phone': 'c30d0407030285ce5b5553626fd672d23d01c408529006fd607c2a1571cebef76a3413dbe388b888812d828ef1a1e985d9b51a54835828ffd8c73b7c707af0664c520faf633eab2ad068a014c325', 'complainant_email': 'c30d040703022c578b3f021bde8978d23d015214f8105214b46113d3d923635587f2b60f8fc2639b5749d8e8011000db6f0cbe571db301b3e7a3aa935009b076d6160b64dbe2e4d524ce65b794f7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 12:34:52,621 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,622 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,622 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,622 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,622 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,622 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,622 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,622 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:34:52,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:34:52,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:34:52,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,623 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,623 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,623 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,624 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,624 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,624 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,624 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,624 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,624 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,624 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,624 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,624 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,624 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,624 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,624 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,624 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,624 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,624 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,624 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,625 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,625 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,625 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:37:46,625 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:37:46,625 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:37:46,625 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,161 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,161 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,161 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,161 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,161 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,161 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,161 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,161 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,161 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,161 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,161 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,161 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,161 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,161 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,161 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,161 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,161 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,161 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,162 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,162 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,162 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,162 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,162 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,162 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,162 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,162 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,162 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:40:43,162 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:40:43,162 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:40:43,162 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,837 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,837 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,837 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,837 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,837 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,837 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,837 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,837 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,837 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,837 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,837 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,838 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,838 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,838 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,838 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,838 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,838 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,838 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,838 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,838 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,838 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,838 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,838 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,838 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,838 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,838 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,838 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:41:37,839 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:41:37,839 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:41:37,839 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,897 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,897 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,897 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,897 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,897 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,897 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,897 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,897 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,898 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,898 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,898 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,898 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,898 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,898 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,898 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,898 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,898 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,898 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,898 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,898 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:42:42,898 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 12:42:42,898 - db_manager - INFO - Database manager initialized successfully
2025-09-05 12:42:42,898 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 12:43:18,018 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250905-KOJH-CA9C-B
2025-09-05 12:43:18,018 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250905-KOJH-CA9C-B', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_unique_id': 'CM-20250905-KOJH-CA9C-B'}
2025-09-05 12:43:18,018 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_province', 'complainant_district', 'complainant_unique_id'])
2025-09-05 12:43:18,018 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 12:43:18,018 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 12:43:18,019 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 12:43:18,019 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:18,025 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:18,028 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:18,028 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:18,028 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250905-KOJH-CA9C-B
2025-09-05 12:43:18,028 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250905-KOJH-4489-B', 'complainant_id': 'CM-20250905-KOJH-CA9C-B', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_office': None, 'source': 'bot', 'complainant_unique_id': 'CM-20250905-KOJH-CA9C-B'}
2025-09-05 12:43:18,028 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250905-KOJH-4489-B
2025-09-05 12:43:18,028 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_description', 'source'])
2025-09-05 12:43:18,028 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 12:43:18,028 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 12:43:18,028 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 12:43:18,028 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:18,034 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:18,038 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:18,038 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:18,038 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250905-KOJH-4489-B
2025-09-05 12:43:47,492 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,497 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,498 - db_manager - INFO - Executing get_complainant_by_id: 
            SELECT complainant_id, complainant_unique_id, complainant_full_name,    complainant_pho...
2025-09-05 12:43:47,499 - db_manager - INFO - get_complainant_by_id completed in 0.01s. Rows: 1
2025-09-05 12:43:47,499 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,499 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,499 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,504 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,504 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 12:43:47,506 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 12:43:47,506 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,506 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,506 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-4489-B', 'complainant_id': 'CM-20250905-KOJH-CA9C-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धोको सब ठाउँमा छ, बच्चाहरु खोक्दैछन, मलाई अस्पताल जानु पर्दछ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 43, 18, 34250, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 43, 26, 140699, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-4489-B', 'complainant_id': 'CM-20250905-KOJH-CA9C-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धोको सब ठाउँमा छ, बच्चाहरु खोक्दैछन, मलाई अस्पताल जानु पर्दछ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 43, 18, 34250, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 43, 26, 140699, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 12:43:47,506 - db_manager - INFO - update_complainant: Updating complainant with ID: CM-20250905-KOJH-CA9C-B
2025-09-05 12:43:47,506 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,511 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,512 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 12:43:47,515 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 12:43:47,515 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,515 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,515 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302cb79a3c3b16d16997bd23d01b1de8e6754c8b33ce9d898c85614aff8b9c05022f844ad95d53a7a697bdf7958969c95bf678b618e750b1c3be0fb86eebd2255b17ec82ca61def7de9
2025-09-05 12:43:47,515 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,520 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,520 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 12:43:47,521 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 12:43:47,521 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,521 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,521 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,526 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,526 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 12:43:47,527 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 12:43:47,527 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,527 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,527 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-09-05 12:43:47,527 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_full_name': 'c30d040703029d80669f5a48182c68d23d01bc6bd7207410429b8e0df4e7abb6c95899a00b004f6360f837eb24afa5966462e94be86337b717893f16450b6c39260f231712600ce54c735fa9ab71', 'complainant_phone': 'c30d04070302cb79a3c3b16d16997bd23d01b1de8e6754c8b33ce9d898c85614aff8b9c05022f844ad95d53a7a697bdf7958969c95bf678b618e750b1c3be0fb86eebd2255b17ec82ca61def7de9', 'complainant_email': 'c30d040703027d60ef458fff963267d23d0136dff4ee7673bde30e7f104a316a5c21e56540230a5c3c4cd27d6aa97594816bdbe5751af1a9765a3f8db8afa8dd99c64a90a87ef4220bcdada55f71', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 12:43:47,528 - db_manager - DEBUG - encrypted_data at update_complainant: {'complainant_full_name': 'c30d040703029d80669f5a48182c68d23d01bc6bd7207410429b8e0df4e7abb6c95899a00b004f6360f837eb24afa5966462e94be86337b717893f16450b6c39260f231712600ce54c735fa9ab71', 'complainant_phone': 'c30d04070302cb79a3c3b16d16997bd23d01b1de8e6754c8b33ce9d898c85614aff8b9c05022f844ad95d53a7a697bdf7958969c95bf678b618e750b1c3be0fb86eebd2255b17ec82ca61def7de9', 'complainant_email': 'c30d040703027d60ef458fff963267d23d0136dff4ee7673bde30e7f104a316a5c21e56540230a5c3c4cd27d6aa97594816bdbe5751af1a9765a3f8db8afa8dd99c64a90a87ef4220bcdada55f71', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 12:43:47,528 - db_manager - DEBUG - execute_update values: ('c30d040703029d80669f5a48182c68d23d01bc6bd7207410429b8e0df4e7abb6c95899a00b004f6360f837eb24afa5966462e94be86337b717893f16450b6c39260f231712600ce54c735fa9ab71', 'c30d04070302cb79a3c3b16d16997bd23d01b1de8e6754c8b33ce9d898c85614aff8b9c05022f844ad95d53a7a697bdf7958969c95bf678b618e750b1c3be0fb86eebd2255b17ec82ca61def7de9', 'c30d040703027d60ef458fff963267d23d0136dff4ee7673bde30e7f104a316a5c21e56540230a5c3c4cd27d6aa97594816bdbe5751af1a9765a3f8db8afa8dd99c64a90a87ef4220bcdada55f71', 'Koshi', 'Jhapa', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'CM-20250905-KOJH-CA9C-B')
2025-09-05 12:43:47,528 - db_manager - DEBUG - execute_update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, complainant_province = %s, complainant_district = %s, complainant_phone_hash = %s, complainant_full_name_hash = %s, complainant_email_hash = %s WHERE complainant_id = %s
2025-09-05 12:43:47,528 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,532 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,532 - db_manager - INFO - execute_update: Executing update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, ...
2025-09-05 12:43:47,533 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 12:43:47,536 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,536 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,536 - db_manager - INFO - Complainant updated in db: CM-20250905-KOJH-CA9C-B
2025-09-05 12:43:47,536 - db_manager - INFO - update_grievance: Updating grievance with ID: GR-20250905-KOJH-4489-B
2025-09-05 12:43:47,536 - db_manager - DEBUG - execute_update values: ('dust everywhere kids coughing I need to go to the hospital', 'GR-20250905-KOJH-4489-B')
2025-09-05 12:43:47,536 - db_manager - DEBUG - execute_update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievance_modification_date = CURRENT_TIMESTAMP
                    WHERE grievance_id = %s
                    RETURNING grievance_id
                
2025-09-05 12:43:47,536 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,541 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,541 - db_manager - INFO - execute_update: Executing update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievanc...
2025-09-05 12:43:47,542 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 12:43:47,543 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,544 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,544 - db_manager - INFO - update_grievance: Updated grievance with ID: GR-20250905-KOJH-4489-B, rows affected: 1
2025-09-05 12:43:47,544 - db_manager - INFO - Grievance updated in db: GR-20250905-KOJH-4489-B
2025-09-05 12:43:47,544 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,548 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,548 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 12:43:47,549 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 12:43:47,549 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,549 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,549 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,554 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,555 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 12:43:47,556 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 12:43:47,556 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,556 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,598 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 12:43:47,604 - db_manager - INFO - Starting database transaction
2025-09-05 12:43:47,604 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 12:43:47,606 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 12:43:47,606 - db_manager - INFO - Transaction committed successfully
2025-09-05 12:43:47,606 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 12:43:47,606 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-4489-B', 'complainant_id': 'CM-20250905-KOJH-CA9C-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धोको सब ठाउँमा छ, बच्चाहरु खोक्दैछन, मलाई अस्पताल जानु पर्दछ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 43, 18, 34250, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 43, 47, 541450, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703029d80669f5a48182c68d23d01bc6bd7207410429b8e0df4e7abb6c95899a00b004f6360f837eb24afa5966462e94be86337b717893f16450b6c39260f231712600ce54c735fa9ab71', 'complainant_phone': 'c30d04070302cb79a3c3b16d16997bd23d01b1de8e6754c8b33ce9d898c85614aff8b9c05022f844ad95d53a7a697bdf7958969c95bf678b618e750b1c3be0fb86eebd2255b17ec82ca61def7de9', 'complainant_email': 'c30d040703027d60ef458fff963267d23d0136dff4ee7673bde30e7f104a316a5c21e56540230a5c3c4cd27d6aa97594816bdbe5751af1a9765a3f8db8afa8dd99c64a90a87ef4220bcdada55f71', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-4489-B', 'complainant_id': 'CM-20250905-KOJH-CA9C-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धोको सब ठाउँमा छ, बच्चाहरु खोक्दैछन, मलाई अस्पताल जानु पर्दछ', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 12, 43, 18, 34250, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 12, 43, 47, 541450, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703029d80669f5a48182c68d23d01bc6bd7207410429b8e0df4e7abb6c95899a00b004f6360f837eb24afa5966462e94be86337b717893f16450b6c39260f231712600ce54c735fa9ab71', 'complainant_phone': 'c30d04070302cb79a3c3b16d16997bd23d01b1de8e6754c8b33ce9d898c85614aff8b9c05022f844ad95d53a7a697bdf7958969c95bf678b618e750b1c3be0fb86eebd2255b17ec82ca61def7de9', 'complainant_email': 'c30d040703027d60ef458fff963267d23d0136dff4ee7673bde30e7f104a316a5c21e56540230a5c3c4cd27d6aa97594816bdbe5751af1a9765a3f8db8afa8dd99c64a90a87ef4220bcdada55f71', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 13:04:40,497 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,498 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,498 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,498 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,498 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,498 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,498 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,498 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,498 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,498 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,498 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,498 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,498 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,499 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,499 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,499 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,499 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,499 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,499 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,499 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,499 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,499 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,499 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,499 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,499 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,499 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,499 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:04:40,499 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:04:40,499 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:04:40,499 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:05:15,418 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250905-KOJH-F431-B
2025-09-05 13:05:15,418 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250905-KOJH-F431-B', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_unique_id': 'CM-20250905-KOJH-F431-B'}
2025-09-05 13:05:15,418 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_province', 'complainant_district', 'complainant_unique_id'])
2025-09-05 13:05:15,418 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 13:05:15,418 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 13:05:15,418 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 13:05:15,418 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:15,425 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:15,427 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:15,427 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:15,427 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250905-KOJH-F431-B
2025-09-05 13:05:15,428 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250905-KOJH-0EB0-B', 'complainant_id': 'CM-20250905-KOJH-F431-B', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_office': None, 'source': 'bot', 'complainant_unique_id': 'CM-20250905-KOJH-F431-B'}
2025-09-05 13:05:15,428 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250905-KOJH-0EB0-B
2025-09-05 13:05:15,428 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_description', 'source'])
2025-09-05 13:05:15,428 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 13:05:15,428 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 13:05:15,428 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 13:05:15,428 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:15,432 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:15,437 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:15,437 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:15,437 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250905-KOJH-0EB0-B
2025-09-05 13:05:36,696 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,701 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,701 - db_manager - INFO - Executing get_complainant_by_id: 
            SELECT complainant_id, complainant_unique_id, complainant_full_name,    complainant_pho...
2025-09-05 13:05:36,703 - db_manager - INFO - get_complainant_by_id completed in 0.01s. Rows: 1
2025-09-05 13:05:36,703 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,703 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,703 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,708 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,708 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 13:05:36,709 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 13:05:36,709 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,709 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,709 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-0EB0-B', 'complainant_id': 'CM-20250905-KOJH-F431-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबैतिर हुँदा बालबालिकाहरुले खोकी लागेको छ र हामीलाई अस्पताल जानु पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 5, 15, 433098, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 5, 19, 932872, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-0EB0-B', 'complainant_id': 'CM-20250905-KOJH-F431-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबैतिर हुँदा बालबालिकाहरुले खोकी लागेको छ र हामीलाई अस्पताल जानु पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 5, 15, 433098, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 5, 19, 932872, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 13:05:36,710 - db_manager - INFO - update_complainant: Updating complainant with ID: CM-20250905-KOJH-F431-B
2025-09-05 13:05:36,710 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,714 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,714 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 13:05:36,717 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 13:05:36,717 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,718 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,718 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,722 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,722 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 13:05:36,723 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 13:05:36,723 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,723 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,724 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d0407030207caec39a8db51656cd23d011e30c77fe821390a6ca961536ef1693eab0940c35b1a404de016b199e09a1300375ee1bdb0d316a82e282928373cdc21f13eb6ae81100801a230a989
2025-09-05 13:05:36,724 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,728 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,728 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 13:05:36,729 - db_manager - INFO - encrypt_field completed in 0.00s. Rows: 1
2025-09-05 13:05:36,729 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,729 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,729 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-09-05 13:05:36,729 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_full_name': 'c30d040703024770868fc53b4ec96ed23d013a9cd86cb25461cee0f6aba1fac5375f1af1e6bdfd69c3b4387ff5b5711fac490aea58e2ac2aaee214fa0dbd7d5bd007531e5c799ddadbe60238bb2f', 'complainant_phone': 'c30d0407030207caec39a8db51656cd23d011e30c77fe821390a6ca961536ef1693eab0940c35b1a404de016b199e09a1300375ee1bdb0d316a82e282928373cdc21f13eb6ae81100801a230a989', 'complainant_email': 'c30d040703023f6259804155940875d23d01a5a62b382f627c1bec5af38b5af93977aa57dd8c49831b2f47ee03101e4f89dec56d04ed670ce926ab3f0afb61fc40825015fc83c3a71b8aabe78ff7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 13:05:36,729 - db_manager - DEBUG - encrypted_data at update_complainant: {'complainant_full_name': 'c30d040703024770868fc53b4ec96ed23d013a9cd86cb25461cee0f6aba1fac5375f1af1e6bdfd69c3b4387ff5b5711fac490aea58e2ac2aaee214fa0dbd7d5bd007531e5c799ddadbe60238bb2f', 'complainant_phone': 'c30d0407030207caec39a8db51656cd23d011e30c77fe821390a6ca961536ef1693eab0940c35b1a404de016b199e09a1300375ee1bdb0d316a82e282928373cdc21f13eb6ae81100801a230a989', 'complainant_email': 'c30d040703023f6259804155940875d23d01a5a62b382f627c1bec5af38b5af93977aa57dd8c49831b2f47ee03101e4f89dec56d04ed670ce926ab3f0afb61fc40825015fc83c3a71b8aabe78ff7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 13:05:36,729 - db_manager - DEBUG - execute_update values: ('c30d040703024770868fc53b4ec96ed23d013a9cd86cb25461cee0f6aba1fac5375f1af1e6bdfd69c3b4387ff5b5711fac490aea58e2ac2aaee214fa0dbd7d5bd007531e5c799ddadbe60238bb2f', 'c30d0407030207caec39a8db51656cd23d011e30c77fe821390a6ca961536ef1693eab0940c35b1a404de016b199e09a1300375ee1bdb0d316a82e282928373cdc21f13eb6ae81100801a230a989', 'c30d040703023f6259804155940875d23d01a5a62b382f627c1bec5af38b5af93977aa57dd8c49831b2f47ee03101e4f89dec56d04ed670ce926ab3f0afb61fc40825015fc83c3a71b8aabe78ff7', 'Koshi', 'Jhapa', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'CM-20250905-KOJH-F431-B')
2025-09-05 13:05:36,729 - db_manager - DEBUG - execute_update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, complainant_province = %s, complainant_district = %s, complainant_full_name_hash = %s, complainant_phone_hash = %s, complainant_email_hash = %s WHERE complainant_id = %s
2025-09-05 13:05:36,729 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,734 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,734 - db_manager - INFO - execute_update: Executing update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, ...
2025-09-05 13:05:36,735 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 13:05:36,737 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,737 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,737 - db_manager - INFO - Complainant updated in db: CM-20250905-KOJH-F431-B
2025-09-05 13:05:36,737 - db_manager - INFO - update_grievance: Updating grievance with ID: GR-20250905-KOJH-0EB0-B
2025-09-05 13:05:36,737 - db_manager - DEBUG - execute_update values: ('dust everywhere kids coughing I need to go to the hospital', 'GR-20250905-KOJH-0EB0-B')
2025-09-05 13:05:36,737 - db_manager - DEBUG - execute_update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievance_modification_date = CURRENT_TIMESTAMP
                    WHERE grievance_id = %s
                    RETURNING grievance_id
                
2025-09-05 13:05:36,737 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,742 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,742 - db_manager - INFO - execute_update: Executing update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievanc...
2025-09-05 13:05:36,743 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 13:05:36,745 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,746 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,746 - db_manager - INFO - update_grievance: Updated grievance with ID: GR-20250905-KOJH-0EB0-B, rows affected: 1
2025-09-05 13:05:36,746 - db_manager - INFO - Grievance updated in db: GR-20250905-KOJH-0EB0-B
2025-09-05 13:05:36,746 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,750 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,750 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 13:05:36,752 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 13:05:36,752 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,752 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,752 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,756 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,757 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 13:05:36,758 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 13:05:36,758 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,758 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,804 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:05:36,809 - db_manager - INFO - Starting database transaction
2025-09-05 13:05:36,809 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 13:05:36,811 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 13:05:36,811 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:05:36,811 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:05:36,811 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-0EB0-B', 'complainant_id': 'CM-20250905-KOJH-F431-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबैतिर हुँदा बालबालिकाहरुले खोकी लागेको छ र हामीलाई अस्पताल जानु पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 5, 15, 433098, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 5, 36, 742639, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703024770868fc53b4ec96ed23d013a9cd86cb25461cee0f6aba1fac5375f1af1e6bdfd69c3b4387ff5b5711fac490aea58e2ac2aaee214fa0dbd7d5bd007531e5c799ddadbe60238bb2f', 'complainant_phone': 'c30d0407030207caec39a8db51656cd23d011e30c77fe821390a6ca961536ef1693eab0940c35b1a404de016b199e09a1300375ee1bdb0d316a82e282928373cdc21f13eb6ae81100801a230a989', 'complainant_email': 'c30d040703023f6259804155940875d23d01a5a62b382f627c1bec5af38b5af93977aa57dd8c49831b2f47ee03101e4f89dec56d04ed670ce926ab3f0afb61fc40825015fc83c3a71b8aabe78ff7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-0EB0-B', 'complainant_id': 'CM-20250905-KOJH-F431-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबैतिर हुँदा बालबालिकाहरुले खोकी लागेको छ र हामीलाई अस्पताल जानु पर्दछ।', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 5, 15, 433098, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 5, 36, 742639, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703024770868fc53b4ec96ed23d013a9cd86cb25461cee0f6aba1fac5375f1af1e6bdfd69c3b4387ff5b5711fac490aea58e2ac2aaee214fa0dbd7d5bd007531e5c799ddadbe60238bb2f', 'complainant_phone': 'c30d0407030207caec39a8db51656cd23d011e30c77fe821390a6ca961536ef1693eab0940c35b1a404de016b199e09a1300375ee1bdb0d316a82e282928373cdc21f13eb6ae81100801a230a989', 'complainant_email': 'c30d040703023f6259804155940875d23d01a5a62b382f627c1bec5af38b5af93977aa57dd8c49831b2f47ee03101e4f89dec56d04ed670ce926ab3f0afb61fc40825015fc83c3a71b8aabe78ff7', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 13:13:05,522 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,522 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,522 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,522 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,522 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,522 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,522 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,522 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,522 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,523 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,523 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,523 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,523 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,523 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,523 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,523 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,523 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,523 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,523 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,523 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,523 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,523 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,523 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,523 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,523 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,523 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,523 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:13:05,523 - db_manager - INFO - Database parameters: {'host': 'localhost', 'database': 'grievance_db', 'user': 'nepal_grievance_admin', 'password': 'K9!mP2$vL5nX8&qR4jW7', 'port': '5432'}
2025-09-05 13:13:05,523 - db_manager - INFO - Database manager initialized successfully
2025-09-05 13:13:05,523 - db_manager - INFO - Encryption enabled for sensitive fields
2025-09-05 13:15:07,891 - db_manager - INFO - create_complainant: Creating complainant with ID: CM-20250905-KOJH-7E30-B
2025-09-05 13:15:07,891 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_id': 'CM-20250905-KOJH-7E30-B', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_unique_id': 'CM-20250905-KOJH-7E30-B'}
2025-09-05 13:15:07,891 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['complainant_id', 'complainant_province', 'complainant_district', 'complainant_unique_id'])
2025-09-05 13:15:07,891 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 13:15:07,891 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 13:15:07,891 - db_manager - DEBUG - Generated query: INSERT INTO complainants (complainant_id, complainant_province, complainant_district, complainant_unique_id) VALUES (%s, %s, %s, %s)
2025-09-05 13:15:07,891 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:07,897 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:07,899 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:07,899 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:07,899 - db_manager - INFO - create_complainant: Successfully created complainant with ID: CM-20250905-KOJH-7E30-B
2025-09-05 13:15:07,900 - db_manager - INFO - create_grievance: Creating grievance with data: {'grievance_id': 'GR-20250905-KOJH-DD63-B', 'complainant_id': 'CM-20250905-KOJH-7E30-B', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_office': None, 'source': 'bot', 'complainant_unique_id': 'CM-20250905-KOJH-7E30-B'}
2025-09-05 13:15:07,900 - db_manager - INFO - create_grievance: Creating grievance with ID: GR-20250905-KOJH-DD63-B
2025-09-05 13:15:07,900 - db_manager - DEBUG - query_keys at generate_query_string: dict_keys(['grievance_id', 'complainant_id', 'grievance_description', 'source'])
2025-09-05 13:15:07,900 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 13:15:07,900 - db_manager - DEBUG - len of query_keys: 4
2025-09-05 13:15:07,900 - db_manager - DEBUG - Generated query: INSERT INTO grievances (grievance_id, complainant_id, grievance_description, source) VALUES (%s, %s, %s, %s) RETURNING grievance_id
2025-09-05 13:15:07,900 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:07,904 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:07,908 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:07,908 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:07,908 - db_manager - INFO - create_grievance: Successfully created grievance with ID: GR-20250905-KOJH-DD63-B
2025-09-05 13:15:28,421 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,426 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,426 - db_manager - INFO - Executing get_complainant_by_id: 
            SELECT complainant_id, complainant_unique_id, complainant_full_name,    complainant_pho...
2025-09-05 13:15:28,427 - db_manager - INFO - get_complainant_by_id completed in 0.01s. Rows: 1
2025-09-05 13:15:28,428 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,428 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,428 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,432 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,432 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 13:15:28,434 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 13:15:28,434 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,434 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,434 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-DD63-B', 'complainant_id': 'CM-20250905-KOJH-7E30-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबै ठाउँमा विकसित भएको, बच्चाहरू खोकी लागेका, अस्पताल जान आवश्यकता', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 15, 7, 904780, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 15, 11, 743189, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-DD63-B', 'complainant_id': 'CM-20250905-KOJH-7E30-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबै ठाउँमा विकसित भएको, बच्चाहरू खोकी लागेका, अस्पताल जान आवश्यकता', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 15, 7, 904780, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 15, 11, 743189, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': None, 'complainant_phone': None, 'complainant_email': None, 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
2025-09-05 13:15:28,434 - db_manager - INFO - update_complainant: Updating complainant with ID: CM-20250905-KOJH-7E30-B
2025-09-05 13:15:28,434 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,439 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,439 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 13:15:28,442 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 13:15:28,443 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,443 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,443 - db_manager - DEBUG - encrypted phone number Not provided at encrypt_complainant_data: c30d04070302cd952adeb8452b266ad23d0189ad2f3d2ae74b2aa205b300f80be06ff9912f08313801366a1624c102945b1cfe71de2ad87be2e1ca846d962494dba4897e33b754f471e239b89e18
2025-09-05 13:15:28,443 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,447 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,447 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 13:15:28,448 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 13:15:28,448 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,448 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,448 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,453 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,453 - db_manager - INFO - Executing encrypt_field: SELECT encode(pgp_sym_encrypt(%s, %s), 'hex') AS encrypted...
2025-09-05 13:15:28,454 - db_manager - INFO - encrypt_field completed in 0.01s. Rows: 1
2025-09-05 13:15:28,454 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,454 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,454 - db_manager - DEBUG - phone number Not provided hashed to d83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f at hash_sensitive_data
2025-09-05 13:15:28,454 - db_manager - DEBUG - encrypted and hashed data at encrypt_and_hash_sensitive_data: {'complainant_full_name': 'c30d040703024598e56194ff9bed78d23d01173bc890c94628c3f99ffa6b82e6dd7ed4ab6105cbe5a22e7933faf29dbee3b1b1e64626db0505ea80cc11074c20714e49612371853c5dd33114eade', 'complainant_phone': 'c30d04070302cd952adeb8452b266ad23d0189ad2f3d2ae74b2aa205b300f80be06ff9912f08313801366a1624c102945b1cfe71de2ad87be2e1ca846d962494dba4897e33b754f471e239b89e18', 'complainant_email': 'c30d040703024b0f53590aa293eb61d23d0143fdc83abd9e8949efc89ffe40497eff125dfd91c52a5d366141ed2da7009ef8eb6cf0fba4ca531c2cbff67e5354d59b0652d87755219d33e40be8db', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 13:15:28,454 - db_manager - DEBUG - encrypted_data at update_complainant: {'complainant_full_name': 'c30d040703024598e56194ff9bed78d23d01173bc890c94628c3f99ffa6b82e6dd7ed4ab6105cbe5a22e7933faf29dbee3b1b1e64626db0505ea80cc11074c20714e49612371853c5dd33114eade', 'complainant_phone': 'c30d04070302cd952adeb8452b266ad23d0189ad2f3d2ae74b2aa205b300f80be06ff9912f08313801366a1624c102945b1cfe71de2ad87be2e1ca846d962494dba4897e33b754f471e239b89e18', 'complainant_email': 'c30d040703024b0f53590aa293eb61d23d0143fdc83abd9e8949efc89ffe40497eff125dfd91c52a5d366141ed2da7009ef8eb6cf0fba4ca531c2cbff67e5354d59b0652d87755219d33e40be8db', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_phone_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_full_name_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'complainant_email_hash': 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f'}
2025-09-05 13:15:28,454 - db_manager - DEBUG - execute_update values: ('c30d040703024598e56194ff9bed78d23d01173bc890c94628c3f99ffa6b82e6dd7ed4ab6105cbe5a22e7933faf29dbee3b1b1e64626db0505ea80cc11074c20714e49612371853c5dd33114eade', 'c30d04070302cd952adeb8452b266ad23d0189ad2f3d2ae74b2aa205b300f80be06ff9912f08313801366a1624c102945b1cfe71de2ad87be2e1ca846d962494dba4897e33b754f471e239b89e18', 'c30d040703024b0f53590aa293eb61d23d0143fdc83abd9e8949efc89ffe40497eff125dfd91c52a5d366141ed2da7009ef8eb6cf0fba4ca531c2cbff67e5354d59b0652d87755219d33e40be8db', 'Koshi', 'Jhapa', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'd83b9ff3c07a8390e2ea0a2af45fba37595da25f31b85ba625363ee98c0c796f', 'CM-20250905-KOJH-7E30-B')
2025-09-05 13:15:28,454 - db_manager - DEBUG - execute_update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, complainant_province = %s, complainant_district = %s, complainant_phone_hash = %s, complainant_full_name_hash = %s, complainant_email_hash = %s WHERE complainant_id = %s
2025-09-05 13:15:28,454 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,459 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,459 - db_manager - INFO - execute_update: Executing update query: UPDATE complainants SET complainant_full_name = %s, complainant_phone = %s, complainant_email = %s, ...
2025-09-05 13:15:28,460 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 13:15:28,461 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,461 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,461 - db_manager - INFO - Complainant updated in db: CM-20250905-KOJH-7E30-B
2025-09-05 13:15:28,462 - db_manager - INFO - update_grievance: Updating grievance with ID: GR-20250905-KOJH-DD63-B
2025-09-05 13:15:28,462 - db_manager - DEBUG - execute_update values: ('dust everywhere kids coughing I need to go to the hospital', 'GR-20250905-KOJH-DD63-B')
2025-09-05 13:15:28,462 - db_manager - DEBUG - execute_update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievance_modification_date = CURRENT_TIMESTAMP
                    WHERE grievance_id = %s
                    RETURNING grievance_id
                
2025-09-05 13:15:28,462 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,466 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,466 - db_manager - INFO - execute_update: Executing update query: 
                    UPDATE grievances 
                    SET grievance_description = %s, grievanc...
2025-09-05 13:15:28,467 - db_manager - INFO - execute_update: Update completed in 0.01s. Affected rows: 1
2025-09-05 13:15:28,469 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,469 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,469 - db_manager - INFO - update_grievance: Updated grievance with ID: GR-20250905-KOJH-DD63-B, rows affected: 1
2025-09-05 13:15:28,469 - db_manager - INFO - Grievance updated in db: GR-20250905-KOJH-DD63-B
2025-09-05 13:15:28,469 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,474 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,474 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 13:15:28,475 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 13:15:28,475 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,475 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,476 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,480 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,480 - db_manager - INFO - Executing get_grievance_files: 
            SELECT file_id, file_name, file_type, file_size, upload_timestamp
            FROM file...
2025-09-05 13:15:28,481 - db_manager - INFO - get_grievance_files completed in 0.01s. Rows: 0
2025-09-05 13:15:28,481 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,481 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,525 - db_manager - INFO - Connecting to database: grievance_db
2025-09-05 13:15:28,531 - db_manager - INFO - Starting database transaction
2025-09-05 13:15:28,531 - db_manager - INFO - Executing get_grievance_by_id: 
                SELECT g.*, c.complainant_full_name, c.complainant_phone, c.complainant_email,
    ...
2025-09-05 13:15:28,532 - db_manager - INFO - get_grievance_by_id completed in 0.01s. Rows: 1
2025-09-05 13:15:28,532 - db_manager - INFO - Transaction committed successfully
2025-09-05 13:15:28,532 - db_manager - INFO - Database connection closed. Duration: 0.01s
2025-09-05 13:15:28,533 - db_manager - DEBUG - get_grievance_by_id: grievance_id: {'grievance_id': 'GR-20250905-KOJH-DD63-B', 'complainant_id': 'CM-20250905-KOJH-7E30-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबै ठाउँमा विकसित भएको, बच्चाहरू खोकी लागेका, अस्पताल जान आवश्यकता', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 15, 7, 904780, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 15, 28, 466614, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703024598e56194ff9bed78d23d01173bc890c94628c3f99ffa6b82e6dd7ed4ab6105cbe5a22e7933faf29dbee3b1b1e64626db0505ea80cc11074c20714e49612371853c5dd33114eade', 'complainant_phone': 'c30d04070302cd952adeb8452b266ad23d0189ad2f3d2ae74b2aa205b300f80be06ff9912f08313801366a1624c102945b1cfe71de2ad87be2e1ca846d962494dba4897e33b754f471e239b89e18', 'complainant_email': 'c30d040703024b0f53590aa293eb61d23d0143fdc83abd9e8949efc89ffe40497eff125dfd91c52a5d366141ed2da7009ef8eb6cf0fba4ca531c2cbff67e5354d59b0652d87755219d33e40be8db', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}, results: [{'grievance_id': 'GR-20250905-KOJH-DD63-B', 'complainant_id': 'CM-20250905-KOJH-7E30-B', 'grievance_categories': '{"Environmental - Air Pollution"}', 'grievance_summary': 'धूल सबै ठाउँमा विकसित भएको, बच्चाहरू खोकी लागेका, अस्पताल जान आवश्यकता', 'grievance_description': 'dust everywhere kids coughing I need to go to the hospital', 'grievance_claimed_amount': None, 'grievance_location': None, 'language_code': 'en', 'classification_status': 'pending', 'grievance_creation_date': datetime.datetime(2025, 9, 5, 13, 15, 7, 904780, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'grievance_modification_date': datetime.datetime(2025, 9, 5, 13, 15, 28, 466614, tzinfo=datetime.timezone(datetime.timedelta(seconds=28800))), 'is_temporary': True, 'source': 'bot', 'complainant_full_name': 'c30d040703024598e56194ff9bed78d23d01173bc890c94628c3f99ffa6b82e6dd7ed4ab6105cbe5a22e7933faf29dbee3b1b1e64626db0505ea80cc11074c20714e49612371853c5dd33114eade', 'complainant_phone': 'c30d04070302cd952adeb8452b266ad23d0189ad2f3d2ae74b2aa205b300f80be06ff9912f08313801366a1624c102945b1cfe71de2ad87be2e1ca846d962494dba4897e33b754f471e239b89e18', 'complainant_email': 'c30d040703024b0f53590aa293eb61d23d0143fdc83abd9e8949efc89ffe40497eff125dfd91c52a5d366141ed2da7009ef8eb6cf0fba4ca531c2cbff67e5354d59b0652d87755219d33e40be8db', 'complainant_province': 'Koshi', 'complainant_district': 'Jhapa', 'complainant_municipality': None, 'complainant_ward': None, 'complainant_village': None, 'complainant_address': None}]
