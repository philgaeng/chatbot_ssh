version: "3.1"

#navigation stories linked mostly to buttons

stories:
  # - story: User chooses to go back
  #   steps:
  #   - intent: mood_unhappy
  #   - action: utter_mood_unhappy
  #   - intent: go_back
  #   - action: action_go_back

  - story: User chooses to restart the story
    steps:
      - intent: nav_restart
      - action: action_restart_story

  - story: Action main menu if file a grievance
    steps:
      - intent: nav_main_menu
      - action: action_main_menu
      - intent: new_grievance
      - action: action_start_grievance_process
      - slot_was_set:
          - story_main: "new_grievance"
      - action: form_grievance
      - active_loop: form_grievance
      - active_loop: null
      - action: action_next_action

  - story: Action main menu if status check
    steps:
      - intent: nav_main_menu
      - action: action_main_menu
      - intent: start_status_check
      - action: action_start_status_check
      - slot_was_set:
          - story_main: "status_check"
      - action: form_status_check_1
      - active_loop: form_status_check_1
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_status_check_1
    steps:
      - action: form_status_check_1
      - active_loop: form_status_check_1
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_status_check_2
    steps:
      - action: form_status_check_2
      - active_loop: form_status_check_2
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_otp
    steps:
      - action: form_otp
      - active_loop: form_otp
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_grievance
    steps:
      - action: form_grievance
      - active_loop: form_grievance
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_contact
    steps:
      - action: form_contact
      - active_loop: form_contact
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_story_main
    steps:
      - action: form_story_main
      - active_loop: form_story_main
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_story_route
    steps:
      - action: form_story_route
      - active_loop: form_story_route
      - active_loop: null
      - action: action_next_action

  - story: Next action after form_story_step
    steps:
      - action: form_story_step
      - active_loop: form_story_step
      - active_loop: null
      - action: action_next_action
