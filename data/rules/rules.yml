version: "3.1"

rules:

  - rule: Say goodbye anytime the user says goodbye
    steps:
      - intent: goodbye
      - action: utter_goodbye

  - rule: Respond to user challenge
    steps:
      - intent: bot_challenge
      - action: action_respond_to_challenge

  - rule: Respond to user stating their great mood
    steps:
      - intent: mood_great
      - action: action_handle_mood_great

  - rule: User files the grievance as is
    steps:
      - intent: submit_grievance_as_is
      - action: action_submit_grievance_as_is

  - rule: Exit grievance filing at any time
    steps:
      - intent: exit_without_filing
      - action: utter_exit_without_filing
      - active_loop: null

  # - rule: Activate Municipality Form
  #   steps:
  #     - action: action_ask_location
  #     - intent: start_location_process
  #     - action : municipality_form
  #     - active_loop: municipality_form
  #     - slot_was_set:
  #       - user_municipality  # âœ… Ensures bot waits for user input
  #     - action : action_confirm_municipality
